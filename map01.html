<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>微格分色2.0</title>
    <!-- Import style -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/element-plus/dist/index.css"/>
    <!-- Import Vue 3 -->
    <script src="//cdn.jsdelivr.net/npm/vue@3"></script>
    <!-- Import component library -->
    <script src="//cdn.jsdelivr.net/npm/element-plus"></script>
    <script src="https://fastly.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
</head>
<style>
    #main {
        position: absolute;
        width: 1920px;
        height: 1080px;
        border: 1px solid #ccc;
    }

    #right-part {
        position: absolute;
        width: 320px;
        height: 1080px;
        left: 1600px;
        top: 0px;
        border: 2px solid #007BFF;
    }

    #map {
        width: 1600px;
        height: 800px;
        border: 1px solid #ccc;
    }

    #base_info {
        width: 1600px;
        height: 280px;
        border: 1px solid #000;

    }

    #c_info {
        position: absolute;
        top: 50px;
    }

    #activity_list, #community_info {
        position: absolute;
        right: 0;
        top: 0;
        width: 480px;
        z-index: 999;
        display: none;
        background: #f4f4f4;
    }

    .close-btn {
        position: absolute;
        top: -10px;
        right: -10px;
        background-color: red;
        color: white;
        border: none;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        cursor: pointer;
        z-index: 999;
    }

    .el-carousel__item h3 {
        color: #475669;
        opacity: 0.75;
        line-height: 100px;
        margin: 0;
        text-align: center;
        font-size: xx-large;
    }

    .el-carousel__item:nth-child(2n) {
        background-color: #99a9bf;
    }

    .el-carousel__item:nth-child(2n + 1) {
        background-color: #d3dce6;
    }
</style>
<body>
<div id="main">
    <div id="bb" style="display: flex;position: absolute;z-index: 999;width:1600px;">
        <el-button type="warning" onclick="show_spot()">多格合一</el-button>
        <el-button type="success" onclick="cover_rate()">显示覆盖率</el-button>
        <el-button type="primary" onclick="goto_community()">查看居民区楼内信息</el-button>

        <el-dropdown size="large" split-button type="danger" style="position: absolute;right:100px"
                     onclick="show_aed()">
            社区资源地图
            <template #dropdown>
                <el-dropdown-menu>
                    <el-dropdown-item>AED 自动体外除颤器</el-dropdown-item>
                    <el-dropdown-item>微型消防站</el-dropdown-item>
                    <el-dropdown-item>应急避难场所 / 疏散点</el-dropdown-item>
                    <el-dropdown-item>活动室</el-dropdown-item>
                    <el-dropdown-item>健身步道</el-dropdown-item>
                    <el-dropdown-item>城市家具</el-dropdown-item>
                    <el-dropdown-item>风邻集市</el-dropdown-item>
                    <el-dropdown-item>……</el-dropdown-item>
                </el-dropdown-menu>
            </template>
        </el-dropdown>

    </div>
    <div id="map"></div>
    <div id="c_info" style="margin: 20px;font-size: x-large">
        <div><strong>人口数：</strong>{{data.userNum}}</div>
        <div><strong>户籍数：</strong>{{data.localNum}}</div>
        <div><strong>居住数：</strong>{{data.liveNum}}</div>
        <div><strong>楼宇数：</strong>{{data.buildingNum}}</div>
        <div><strong>房屋数：</strong>{{data.houseNum}}</div>
        <div><strong>小区数：</strong>{{data.villageNum}}</div>
    </div>
    <div id="base_info">
        <el-row>
            <el-col :span="12">
                <div id="c_describe"
                     style="margin: 30px;font-size: large;height: 200px;overflow: hidden ">
                    长风新村街道系由原长风街道和白玉路街道于2000年5月撤二建一合并而成。长风新村街道位于区西南部。东至曹杨路与长寿路街道相邻，西至真北路与长征镇相接，南至苏州河与长宁区相连，北至金沙江路、中山北路与曹杨新村街道接壤。辖区面积5.8平方公里。所辖居民委员会27个，户籍人口8.95万人，常住人口10.71万人。区域内有轨道交通3、4、11、13、15号线，拥有6座横跨苏州河的桥梁，主干道金沙江路连接内、中、外环，周边交通十分便利。街道设置党政办公室（应急管理办公室、财务管理办公室）、社区党建办公室、社区党群办公室、社区管理办公室、社区服务办公室、社区平安办公室（信访办公室）、社会工作办公室、营商环境办公室，以及纪工委、监察室、人大工委、武装部、工会、团工委、妇联、司法所等机构。长风新村街道办事处是普陀区人民政府的派出机关，受区人民政府领导，依据法律、法规的规定，在本辖区范围内行使相应的政府管理职能。街道办事处的工作以社区管理和社区服务为重点，开展社会主义物质文明、精神文明建设，创建安定团结、环境整洁、方便生活的文明社区。
                </div>
            </el-col>
            <el-col :span="10">
                <div id="r2" style="width: 100%;height: 100%"></div>
            </el-col>
        </el-row>


    </div>
    <div id="right-part">
        <div style="height: 100px;">
            <el-button type="primary">属地情况</el-button>
            <el-button type="warning">政治面貌</el-button>
            <el-button type="info">学历</el-button>

        </div>
        <div id="r1" style="width: 100%;height: 300px;"></div>
        <div id="radar" style="width: 100%;height: 400px;"></div>
        <div id="friend" style="margin: 10px">
            <el-carousel :interval="1500" height="260px" style="border-radius: 10px">
                <el-carousel-item v-for="item in 3" :key="item">
                    <h3 text="2xl" justify="center">共建单位{{ item }}</h3>
                </el-carousel-item>
            </el-carousel>
        </div>
    </div>


</div>

<div id="activity_list">
    <button class="close-btn" @click="hideApp">X</button>
    <el-table :data="tableData" style="width: 100%;" height="1200" border stripe>
        <el-table-column prop="date" label="日期" width="140"></el-table-column>
        <el-table-column prop="time" label="活动时间" width="140"></el-table-column>
        <el-table-column prop="name" label="活动名称" width="140"></el-table-column>
        <el-table-column prop="tag" label="标签" width="80">
            <template #default="scope">
                <el-tag
                        :type="scope.row.tag === '老人' ? 'warning' : scope.row.tag === '小孩' ? 'primary' : 'success'"
                        disable-transitions>{{ scope.row.tag }}
                </el-tag>
            </template>

        </el-table-column>
    </el-table>
</div>

<object id="svgObject" type="image/svg+xml" data="cf.svg" style=""></object>

<script data-name="activity_list">

    function hideApp() {
        // 隐藏 #community_info 元素
        document.getElementById('community_info').style.display = 'none';
    }

    const App = {
        data() {
            return {
                tableData: [
                    {date: '2025-04-09', time: '10:00 - 12:00', name: '游园会', tag: '小孩'},
                    {date: '2025-04-10', time: '14:00 - 16:00', name: '露营', tag: '青年'},
                    {date: '2025-04-11', time: '19:00 - 21:00', name: '唱歌', tag: '青年'},
                    {date: '2025-04-12', time: '09:00 - 11:00', name: '绘画比赛', tag: '小孩'},
                    {date: '2025-04-13', time: '15:00 - 17:00', name: '羽毛球比赛', tag: '青年'},
                    {date: '2025-04-14', time: '13:00 - 15:00', name: '集体游戏', tag: '小孩'},
                    {date: '2025-04-15', time: '11:00 - 13:00', name: '书法比赛', tag: '老人'},
                    {date: '2025-04-16', time: '16:00 - 18:00', name: '露天电影', tag: '青年'},
                    {date: '2025-04-17', time: '20:00 - 22:00', name: '星空观测', tag: '青年'},
                    {date: '2025-04-18', time: '08:00 - 10:00', name: '晨跑活动', tag: '青年'},
                    {date: '2025-04-19', time: '10:00 - 12:00', name: '音乐会', tag: '老人'},
                    {date: '2025-04-20', time: '14:00 - 16:00', name: '手工艺工作坊', tag: '老人'},
                    {date: '2025-04-21', time: '19:00 - 21:00', name: '魔术表演', tag: '小孩'},
                    {date: '2025-04-22', time: '09:00 - 11:00', name: '街头篮球赛', tag: '青年'},
                    {date: '2025-04-23', time: '15:00 - 17:00', name: '编程比赛', tag: '青年'},
                    {date: '2025-04-24', time: '13:00 - 15:00', name: '登山活动', tag: '青年'},
                    {date: '2025-04-25', time: '11:00 - 13:00', name: '羽毛球比赛', tag: '青年'},
                    {date: '2025-04-26', time: '16:00 - 18:00', name: '瑜伽课程', tag: '老人'},
                    {date: '2025-04-27', time: '20:00 - 22:00', name: '小品演出', tag: '老人'},
                    {date: '2025-04-28', time: '08:00 - 10:00', name: '晨跑活动', tag: '青年'},
                    {date: '2025-04-29', time: '14:00 - 16:00', name: '围棋比赛', tag: '老人'},
                    {date: '2025-04-30', time: '19:00 - 21:00', name: '话剧表演', tag: '青年'},
                    {date: '2025-05-01', time: '10:00 - 12:00', name: '亲子游戏', tag: '小孩'},
                    {date: '2025-05-02', time: '14:00 - 16:00', name: '体育竞赛', tag: '青年'},
                    {date: '2025-05-03', time: '09:00 - 11:00', name: '麻将比赛', tag: '老人'},
                    {date: '2025-05-04', time: '15:00 - 17:00', name: '社区义工活动', tag: '青年'},
                    {date: '2025-05-05', time: '11:00 - 13:00', name: '书法展示', tag: '老人'},
                    {date: '2025-05-06', time: '16:00 - 18:00', name: '足球比赛', tag: '青年'},
                    {date: '2025-05-07', time: '20:00 - 22:00', name: '电影放映', tag: '青年'},
                    {date: '2025-05-08', time: '08:00 - 10:00', name: '晨跑活动', tag: '青年'},
                    {date: '2025-05-09', time: '14:00 - 16:00', name: '广场舞', tag: '老人'},
                    {date: '2025-05-10', time: '09:00 - 11:00', name: '书画展览', tag: '老人'},
                    {date: '2025-05-11', time: '19:00 - 21:00', name: '舞蹈表演', tag: '小孩'},
                    {date: '2025-05-12', time: '16:00 - 18:00', name: '羽毛球比赛', tag: '青年'},
                    {date: '2025-05-13', time: '10:00 - 12:00', name: '乐器演奏', tag: '老人'},
                    {date: '2025-05-14', time: '14:00 - 16:00', name: '围棋比赛', tag: '老人'},
                    {date: '2025-05-15', time: '13:00 - 15:00', name: '野外生存训练', tag: '青年'},
                    {date: '2025-05-16', time: '11:00 - 13:00', name: '亲子活动', tag: '小孩'},
                    {date: '2025-05-17', time: '16:00 - 18:00', name: '徒步活动', tag: '青年'},
                    {date: '2025-05-18', time: '20:00 - 22:00', name: '摇滚音乐会', tag: '青年'},
                    {date: '2025-05-19', time: '09:00 - 11:00', name: '广场舞', tag: '老人'},
                    {date: '2025-05-20', time: '13:00 - 15:00', name: '儿童故事会', tag: '小孩'},
                    {date: '2025-05-21', time: '14:00 - 16:00', name: '登山比赛', tag: '青年'},
                    {date: '2025-05-22', time: '09:00 - 11:00', name: '老年健身活动', tag: '老人'},
                    {date: '2025-05-23', time: '20:00 - 22:00', name: '相声表演', tag: '老人'},
                    {date: '2025-05-24', time: '10:00 - 12:00', name: '书法培训', tag: '老人'},
                    {date: '2025-05-25', time: '15:00 - 17:00', name: '骑行活动', tag: '青年'},
                    {date: '2025-05-26', time: '14:00 - 16:00', name: '传统舞蹈', tag: '老人'},
                    {date: '2025-05-27', time: '19:00 - 21:00', name: '绘画课程', tag: '小孩'},
                    {date: '2025-05-28', time: '08:00 - 10:00', name: '晨跑活动', tag: '青年'},
                    {date: '2025-05-29', time: '14:00 - 16:00', name: '街舞比赛', tag: '青年'},
                    {date: '2025-05-30', time: '19:00 - 21:00', name: '舞蹈大赛', tag: '青年'},
                    {date: '2025-05-31', time: '09:00 - 11:00', name: '绘画比赛', tag: '小孩'},
                    {date: '2025-06-01', time: '16:00 - 18:00', name: '音乐游戏', tag: '小孩'},
                    {date: '2025-06-02', time: '20:00 - 22:00', name: '灯光秀', tag: '青年'},
                    {date: '2025-06-03', time: '10:00 - 12:00', name: '书法展览', tag: '老人'},
                    {date: '2025-06-04', time: '13:00 - 15:00', name: '骑行比赛', tag: '青年'}
                ]
            };
        },
        methods: {
            hideApp() {
                document.getElementById('activity_list').style.display = 'none';
            }
        }
    };
    const activity_list = Vue.createApp(App);
    activity_list.use(ElementPlus);
    activity_list.mount("#activity_list");
</script>

<script data-name="echarts-map">
    // 初始化 ECharts
    var myChart = echarts.init(document.getElementById('map'));

    // 获取 SVG 内容并注册地图
    var svgObject = document.getElementById('svgObject');

    var series
    var option

    // 等待 SVG 加载完成
    svgObject.onload = function () {
        var svgDoc = svgObject.contentDocument;  // 获取 SVG 文档
        var svgContent = svgDoc.documentElement.outerHTML;  // 获取 SVG 的 XML 字符串

        svgObject.style.display = "none"

        // 注册地图
        echarts.registerMap('cf', {svg: svgContent});

        const data = [
            {
                value: [894.0499784393191, 404.103543216557],
                name: '长风一村',
                index: 1,
                address: '长风一村37号',
                phone: '62574725'
            },
            {
                value: [707.093611673449, 340.2110475036418],
                name: '长二一委',
                index: 2,
                address: '长风二村137号101室',
                phone: '62223425'
            },
            {
                value: [769.9070495754273, 336.6860038145435],
                name: '长二二委',
                index: 3,
                address: '长风二村46号',
                phone: '62436551'
            },
            {
                value: [806.2596764465688, 486.9435282152614],
                name: '长风三村',
                index: 4,
                address: '枣阳路465弄12号101室',
                phone: '62862292'
            },
            {
                value: [733.5544227042859, 456.47656474230473],
                name: '长四一委',
                index: 5,
                address: '怒江路131弄2号104室',
                phone: '62869557'
            },
            {
                value: [730.4384832581881, 526.7583100265115],
                name: '长四二委',
                index: 6,
                address: '怒江路30弄3号105室',
                phone: '62454636'
            },
            {
                value: [1137.6873579741962, 589.5165305624088],
                name: '师大一村',
                index: 7,
                address: '中山北路3671弄1号101室',
                phone: '62232830'
            },
            {
                value: [649.3540229244668, 414.5231697486255],
                name: '师大三村',
                index: 8,
                address: '金沙江路895弄60号301室',
                phone: '62652253'
            },
            {
                value: [941.2868167285947, 692.8324922694218],
                name: '新渡口',
                index: 9,
                address: '光复西路2213弄89号1楼',
                phone: '62602971'
            },
            {
                value: [819.3100306359535, 715.966020666302],
                name: '95弄',
                index: 10,
                address: '大渡河路21弄16号1楼',
                phone: '62864687'
            },
            {
                value: [1041.3919032460049, 686.1027385539664],
                name: '海鑫',
                index: 11,
                address: '光复西路2077弄32号二楼',
                phone: '62600095'
            },
            {
                value: [394.49432734779276, 483.3689078758541],
                name: '中江',
                index: 12,
                address: '中江路624-626号',
                phone: '52819258'
            },
            {
                value: [1144.6560952369705, 510.3740270395594],
                name: '曹家巷',
                index: 13,
                address: '中山北路3676弄4号底楼',
                phone: '62236347'
            },
            {
                value: [1159.905815810657, 616.3935422502618],
                name: '中山桥',
                index: 14,
                address: '凯旋北路1888弄8号201室',
                phone: '52681289'
            },
            {
                value: [1538.3400570706726, 482.83569958478137],
                name: '隆德',
                index: 15,
                address: '光复西路1145弄19号',
                phone: '52359419'
            },
            {
                value: [1385.277762454008, 322.02978188530903],
                name: '普陀二村',
                index: 16,
                address: '宁夏路312弄1号2室',
                phone: '62441804'
            },
            {
                value: [1353.0637988495394, 243.24411681535972],
                name: '普四一委',
                index: 17,
                address: '白玉路100号',
                phone: '62440226'
            },
            {
                value: [1304.9341080195418, 265.92944879892536],
                name: '普四二委',
                index: 18,
                address: '白兰路88号',
                phone: '62446154'
            },
            {
                value: [1252.8631322186761, 348.79071013563],
                name: '白玉一委',
                index: 19,
                address: '白玉新村85号101室',
                phone: '62035413'
            },
            {
                value: [1319.1419847396864, 348.93202965060016],
                name: '白玉二委',
                index: 20,
                address: '白玉新村18号107室',
                phone: '62224511'
            },
            {
                value: [1428.9129124271094, 511.34752116576476],
                name: '曹家村',
                index: 21,
                address: '白玉路678弄7号203室',
                phone: '52365195'
            },
            {
                value: [1318.9541357522362, 397.798554356354],
                name: '金沙',
                index: 22,
                address: '顺义路南林家港12号底楼',
                phone: '62869103'
            },
            {
                value: [1399.8139052518704, 366.4953486037123],
                name: '锦绿',
                index: 23,
                address: '宁夏路353弄12号101室',
                phone: '62604728'
            },
            {
                value: [1236.1721355561554, 640.5208417449916],
                name: '清水湾',
                index: 24,
                address: '凯旋北路1555弄70号2楼',
                phone: '52682500'
            },
            {
                value: [1443.6186309742889, 395.79622298447606],
                name: '世纪同乐',
                index: 25,
                address: '顺义路130号三楼',
                phone: '52360276'
            },
            {
                value: [95.63242289642241, 503.6155077860561],
                name: '紫御豪庭',
                index: 26,
                address: '同普路689弄5号三楼',
                phone: '52788996'
            },
            {
                value: [243.66204039899952, 437.3861670713435],
                name: '雅仕汇都',
                index: 27,
                address: '泸定路555弄19号二楼',
                phone: '52855850'
            }
        ];

        const data1 = [
            {value: [1142.9077128588845, 433.78936404719434], name: '长风新村街道办事处', index: 99, address: '', phone: ''},
            {value: [666.3843221299296, 770], name: '党群服务中心\n【可点击】', index: 88, address: '', phone: ''},
        ];


        const data4 = [
            {value: 1048, name: '服务A'},
            {value: 735, name: '服务B'},
            {value: 580, name: '服务C'},
            {value: 484, name: '服务D'},
            {value: 300, name: '服务E'}
        ]

        const data5 = [
            {
                value: [3, 4, 5, 5, 3, 4],
                name: 'A',
            },
            {
                value: [6, 2, 5, 3, 6, 4],
                name: 'B',
            }
        ]

        let data_fgl = [
            {
                value: 39.01,
                name: '走访覆盖率'
            }
        ]


        series = [
            {
                name: 'A组 - 居委会',
                type: 'scatter',
                coordinateSystem: 'geo',
                geoIndex: 0,
                // symbol: 'circle',
                symbol: 'image://pin.png',
                symbolSize: 30,
                data: data,
                itemStyle: {
                    color: 'green'
                },
                emphasis: {
                    label: {
                        color: '#000',      // 名称颜色
                        backgroundColor: "#fff",
                        fontSize: 50,        // 名称字体大小
                        borderRadius: 10
                    }

                },
                label: {
                    show: true, // 显示名称
                    position: 'top',  // 名称显示在点的右侧
                    formatter: '{b}',   // 显示每个点的名称
                    color: '#000',      // 名称颜色
                    backgroundColor: "#fff",
                    fontSize: 20,        // 名称字体大小
                    borderRadius: 5
                }
            },
            {
                name: 'B组',
                type: 'scatter',
                coordinateSystem: 'geo',
                geoIndex: 0,
                symbol: 'image://dh.svg',
                symbolSize: 50,
                data: data1,
                itemStyle: {
                    color: 'blue'
                },
                emphasis: {
                    label: {
                        color: '#f00',      // 名称颜色
                        fontSize: 30,        // 名称字体大小
                    },
                },
                label: {
                    show: true, // 显示名称
                    position: 'bottom',  // 名称显示在点的右侧
                    formatter: '{b}',   // 显示每个点的名称
                    color: '#f00',      // 名称颜色
                    fontSize: 20,        // 名称字体大小
                    fontWeight: 800
                }
            },
            {
                type: 'gauge',
                name: '走访覆盖率',
                center: ['90%', '85%'],
                radius: '25%',
                min: 0,
                max: 100,
                splitNumber: 5,
                axisLine: {
                    lineStyle: {
                        width: 10,
                        color: [
                            [0.3, '#ec696a'],
                            [0.6, '#de9d3c'],
                            // [0.9, '#0b6fde'],
                            [1, '#66bb3b']
                        ]
                    }
                },
                pointer: {
                    icon: 'path://M12.8,0.7l12,40.1H0.7L12.8,0.7z',
                    length: '60%',
                    width: 10,
                    offsetCenter: [0, 0],
                    itemStyle: {
                        color: 'auto'
                    }
                },
                axisTick: {
                    length: 12,
                    lineStyle: {
                        color: 'auto',
                        width: 2
                    }
                },
                splitLine: {
                    length: 20,
                    lineStyle: {
                        color: 'auto',
                        width: 5
                    }
                },
                axisLabel: {
                    color: '#464646',
                    fontSize: 20,
                    distance: -50,
                    rotate: 'tangential',
                    formatter: function (value) {
                        return value + '%';
                    }
                },
                title: {
                    offsetCenter: [0, '+70%'],
                    fontSize: 20
                },
                detail: {
                    fontSize: 25,
                    offsetCenter: [0, '+30%'],
                    valueAnimation: true,
                    formatter: function (value) {
                        return value + '%';
                    },
                    color: 'inherit'
                },
                data: data_fgl
            }
            // {
            //     name: "pie",
            //     type: "pie",
            //     coordinateSystem: 'geo',
            //     geoIndex: 0,
            //     animationDuration: 0,
            //     radius: ['10%', '20%'],
            //     center: [200, 200],
            //     data: data4
            // },
            // {
            //     name: "radar",
            //     type: "radar",
            //     data: data5
            //
            // }
        ];


        const cList = [
            {
                "userNum": 5116, // 人口总数
                "liveNum": 4430,
                "orgName": "曹家巷",
                "committeeNum": 0,
                "unLocalNum": 1975,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 855,
                "orgId": "042CAA67F4668C96",
                "localNum": 2610,
                "addNum": 0,
                "buildingNum": 74,
                "villageNum": 5, // 小区数量？
                "hzrbzNum": 864,
                "rzhbzNum": 2586,
                "houseNum": 1157
            },
            {
                "userNum": 2798,
                "liveNum": 2621,
                "orgName": "中山桥",
                "committeeNum": 0,
                "unLocalNum": 1120,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 642,
                "orgId": "FD10547CC89A7F4D",
                "localNum": 1023,
                "addNum": 0,
                "buildingNum": 22,
                "villageNum": 3,
                "hzrbzNum": 99,
                "rzhbzNum": 1577,
                "houseNum": 716
            },
            {
                "userNum": 7150,
                "liveNum": 7008,
                "orgName": "师大一村",
                "committeeNum": 0,
                "unLocalNum": 2673,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2528,
                "orgId": "849F56D6E4965D72",
                "localNum": 9652,
                "addNum": 0,
                "buildingNum": 380,
                "villageNum": 1,
                "hzrbzNum": 83,
                "rzhbzNum": 3831,
                "houseNum": 2128
            },
            {
                "userNum": 2023,
                "liveNum": 1818,
                "orgName": "新渡口",
                "committeeNum": 0,
                "unLocalNum": 761,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 520,
                "orgId": "F2A51E6342625935",
                "localNum": 3239,
                "addNum": 0,
                "buildingNum": 200,
                "villageNum": 3,
                "hzrbzNum": 127,
                "rzhbzNum": 1166,
                "houseNum": 608
            },
            {
                "userNum": 5825,
                "liveNum": 5656,
                "orgName": "长风一村",
                "committeeNum": 0,
                "unLocalNum": 2245,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 675,
                "orgId": "57D77FA915605315",
                "localNum": 2867,
                "addNum": 0,
                "buildingNum": 98,
                "villageNum": 3,
                "hzrbzNum": 3,
                "rzhbzNum": 4151,
                "houseNum": 1719
            },
            {
                "userNum": 5540,
                "liveNum": 5414,
                "orgName": "长二一委",
                "committeeNum": 0,
                "unLocalNum": 2121,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1175,
                "orgId": "47296E8561B496AD",
                "localNum": 5543,
                "addNum": 0,
                "buildingNum": 82,
                "villageNum": 2,
                "hzrbzNum": 54,
                "rzhbzNum": 3580,
                "houseNum": 1913
            },
            {
                "userNum": 8209,
                "liveNum": 7808,
                "orgName": "长风三村",
                "committeeNum": 0,
                "unLocalNum": 2778,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2015,
                "orgId": "D85821889A11534A",
                "localNum": 4589,
                "addNum": 0,
                "buildingNum": 271,
                "villageNum": 3,
                "hzrbzNum": 416,
                "rzhbzNum": 4965,
                "houseNum": 2291
            },
            {
                "userNum": 5771,
                "liveNum": 5226,
                "orgName": "长四一委",
                "committeeNum": 0,
                "unLocalNum": 1814,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1420,
                "orgId": "C9B35BB8C577AAAB",
                "localNum": 3843,
                "addNum": 0,
                "buildingNum": 89,
                "villageNum": 3,
                "hzrbzNum": 357,
                "rzhbzNum": 3565,
                "houseNum": 1914
            },
            {
                "userNum": 3326,
                "liveNum": 3162,
                "orgName": "长四二委",
                "committeeNum": 0,
                "unLocalNum": 1177,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 894,
                "orgId": "530401C874EEF563",
                "localNum": 1671,
                "addNum": 0,
                "buildingNum": 44,
                "villageNum": 4,
                "hzrbzNum": 46,
                "rzhbzNum": 2052,
                "houseNum": 948
            },
            {
                "userNum": 7537,
                "liveNum": 7452,
                "orgName": "长二二委",
                "committeeNum": 0,
                "unLocalNum": 2389,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2608,
                "orgId": "D8508FEC8314257E",
                "localNum": 4530,
                "addNum": 0,
                "buildingNum": 74,
                "villageNum": 4,
                "hzrbzNum": 36,
                "rzhbzNum": 4363,
                "houseNum": 2236
            },
            {
                "userNum": 9098,
                "liveNum": 8898,
                "orgName": "锦绿",
                "committeeNum": 0,
                "unLocalNum": 2113,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2879,
                "orgId": "6D0C9D4EB98FA69E",
                "localNum": 5243,
                "addNum": 0,
                "buildingNum": 77,
                "villageNum": 3,
                "hzrbzNum": 114,
                "rzhbzNum": 5535,
                "houseNum": 2583
            },
            {
                "userNum": 2827,
                "liveNum": 2768,
                "orgName": "曹家村",
                "committeeNum": 0,
                "unLocalNum": 897,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 546,
                "orgId": "11A6A40629A6C88C",
                "localNum": 2732,
                "addNum": 0,
                "buildingNum": 83,
                "villageNum": 3,
                "hzrbzNum": 16,
                "rzhbzNum": 1900,
                "houseNum": 835
            },
            {
                "userNum": 4272,
                "liveNum": 4185,
                "orgName": "白玉一委",
                "committeeNum": 0,
                "unLocalNum": 1391,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 751,
                "orgId": "92494917B5B211DB",
                "localNum": 2270,
                "addNum": 0,
                "buildingNum": 40,
                "villageNum": 3,
                "hzrbzNum": 41,
                "rzhbzNum": 2856,
                "houseNum": 1351
            },
            {
                "userNum": 6390,
                "liveNum": 5924,
                "orgName": "白玉二委",
                "committeeNum": 0,
                "unLocalNum": 2235,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1714,
                "orgId": "98DEE502DAED12C5",
                "localNum": 3732,
                "addNum": 0,
                "buildingNum": 92,
                "villageNum": 5,
                "hzrbzNum": 115,
                "rzhbzNum": 3959,
                "houseNum": 1872
            },
            {
                "userNum": 5657,
                "liveNum": 5453,
                "orgName": "普四一委",
                "committeeNum": 0,
                "unLocalNum": 1886,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1511,
                "orgId": "5B7D64DB5FE16879",
                "localNum": 2535,
                "addNum": 0,
                "buildingNum": 20,
                "villageNum": 3,
                "hzrbzNum": 105,
                "rzhbzNum": 3401,
                "houseNum": 1591
            },
            {
                "userNum": 4032,
                "liveNum": 3522,
                "orgName": "普四二委",
                "committeeNum": 0,
                "unLocalNum": 1525,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 774,
                "orgId": "0BD9C161AE2536BB",
                "localNum": 4524,
                "addNum": 0,
                "buildingNum": 41,
                "villageNum": 5,
                "hzrbzNum": 333,
                "rzhbzNum": 2252,
                "houseNum": 1143
            },
            {
                "userNum": 6735,
                "liveNum": 6373,
                "orgName": "普陀二村",
                "committeeNum": 0,
                "unLocalNum": 2088,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1849,
                "orgId": "3C3128D715901965",
                "localNum": 2913,
                "addNum": 0,
                "buildingNum": 62,
                "villageNum": 4,
                "hzrbzNum": 282,
                "rzhbzNum": 5536,
                "houseNum": 1590
            },
            {
                "userNum": 6983,
                "liveNum": 6495,
                "orgName": "金沙",
                "committeeNum": 0,
                "unLocalNum": 2195,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1846,
                "orgId": "D53FB6FCBA9EE02D",
                "localNum": 5283,
                "addNum": 0,
                "buildingNum": 140,
                "villageNum": 7,
                "hzrbzNum": 230,
                "rzhbzNum": 4142,
                "houseNum": 2358
            },
            {
                "userNum": 5783,
                "liveNum": 5444,
                "orgName": "海鑫",
                "committeeNum": 0,
                "unLocalNum": 1415,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1559,
                "orgId": "5CD4AAB10D26EBAB",
                "localNum": 2284,
                "addNum": 0,
                "buildingNum": 79,
                "villageNum": 2,
                "hzrbzNum": 210,
                "rzhbzNum": 3375,
                "houseNum": 1757
            },
            {
                "userNum": 4506,
                "liveNum": 4245,
                "orgName": "师大三村",
                "committeeNum": 0,
                "unLocalNum": 1439,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1534,
                "orgId": "A08F924A3EFDFF90",
                "localNum": 2375,
                "addNum": 0,
                "buildingNum": 64,
                "villageNum": 3,
                "hzrbzNum": 206,
                "rzhbzNum": 2283,
                "houseNum": 1131
            },
            {
                "userNum": 2404,
                "liveNum": 2344,
                "orgName": "中江",
                "committeeNum": 0,
                "unLocalNum": 900,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 736,
                "orgId": "715FE0491A79FA9E",
                "localNum": 1521,
                "addNum": 0,
                "buildingNum": 51,
                "villageNum": 1,
                "hzrbzNum": 29,
                "rzhbzNum": 1408,
                "houseNum": 706
            },
            {
                "userNum": 8573,
                "liveNum": 8136,
                "orgName": "清水湾",
                "committeeNum": 0,
                "unLocalNum": 2816,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2377,
                "orgId": "3B1BB89DC317523D",
                "localNum": 3382,
                "addNum": 0,
                "buildingNum": 60,
                "villageNum": 1,
                "hzrbzNum": 178,
                "rzhbzNum": 4362,
                "houseNum": 2034
            },
            {
                "userNum": 10190,
                "liveNum": 9627,
                "orgName": "世纪同乐",
                "committeeNum": 0,
                "unLocalNum": 2769,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2752,
                "orgId": "06A61DB95F4AD59D",
                "localNum": 3507,
                "addNum": 0,
                "buildingNum": 50,
                "villageNum": 1,
                "hzrbzNum": 276,
                "rzhbzNum": 6463,
                "houseNum": 2569
            },
            {
                "userNum": 5746,
                "liveNum": 5735,
                "orgName": "紫御豪庭",
                "committeeNum": 0,
                "unLocalNum": 1851,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1554,
                "orgId": "BC15154C331201D9",
                "localNum": 1874,
                "addNum": 0,
                "buildingNum": 200,
                "villageNum": 3,
                "hzrbzNum": 0,
                "rzhbzNum": 3916,
                "houseNum": 1533
            },
            {
                "userNum": 6931,
                "liveNum": 6923,
                "orgName": "雅仕汇都",
                "committeeNum": 0,
                "unLocalNum": 1697,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2079,
                "orgId": "3A3E863F91A83D8D",
                "localNum": 2219,
                "addNum": 0,
                "buildingNum": 47,
                "villageNum": 4,
                "hzrbzNum": 0,
                "rzhbzNum": 6065,
                "houseNum": 1733
            },
            {
                "userNum": 6992,
                "liveNum": 6827,
                "orgName": "95弄",
                "committeeNum": 0,
                "unLocalNum": 2543,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1789,
                "orgId": "7ABF7C7C496162F7",
                "localNum": 3084,
                "addNum": 0,
                "buildingNum": 69,
                "villageNum": 2,
                "hzrbzNum": 75,
                "rzhbzNum": 4829,
                "houseNum": 1773
            },
            {
                "userNum": 6970,
                "liveNum": 6846,
                "orgName": "隆德",
                "committeeNum": 0,
                "unLocalNum": 1963,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 690,
                "orgId": "27D45530BCCEEA13",
                "localNum": 3100,
                "addNum": 0,
                "buildingNum": 50,
                "villageNum": 3,
                "hzrbzNum": 53,
                "rzhbzNum": 5378,
                "houseNum": 2116
            }
        ]


        // 配置ECharts的Option
        option = {
            tooltip: {
                trigger: 'item',
                formatter: function (params) {
                    const data = params.data;
                    return `
                        <b>序号：</b>${data.index}<br/>
                        <b>居委会：</b>${data.name}<br/>
                        <b>地址：</b>${data.address}<br/>
                        <b>电话：</b>${data.phone}
                      `;
                }
            },
            geo: [
                {
                    map: 'cf',  // 设置地图
                    roam: false,     // 启用缩放和平移
                    layoutCenter: ['50%', '65%'], // 地图居中
                    layoutSize: '200%',
                    selectedMode: 'single',  // 单选模式
                }
            ],

            series: series

            // 制作按钮结束
        };

        // 设置图表选项
        myChart.setOption(option);
        // 获得坐标点位置，并复制到剪切板
        // myChart.getZr().on('click', function (params) {
        //     var pixelPoint = [params.offsetX, params.offsetY];
        //     var dataPoint = myChart.convertFromPixel({geoIndex: 0}, pixelPoint);
        //     // console.log(dataPoint);
        //     navigator.clipboard.writeText(dataPoint).then(function () {
        //         console.log('Data copied to clipboard:', dataPoint);
        //     }).catch(function (err) {
        //         console.error('Failed to copy data to clipboard:', err);
        //     });
        //
        // });


        // 添加点击事件，跳转到指定 URL
        myChart.on('click', function (params) {
            console.log(params)
            if (params.seriesName === 'A组 - 居委会') {

                // 查找对应的居委会数据
                const community = data.find(item => item.name === params.data.name);
                const infoElement = document.getElementById('c_describe');
                infoElement.innerHTML = `
                <b>居委会名称：</b>${community.name}    <a href="community.html?name=${community.name}" target="_blank">点击这里查看更多</a><br/>
                <b>居委会地址：</b>${community.address}<br/>
                <b>居委会电话：</b>${community.phone}<br/>
                <div>
                    雅仕汇都居委会成立于2020年1月，总占地面积0.15平方公里，东至中江路，西至丹巴路，南至同普路，北至金沙江路，共有四个小区组成：雅仕名邸、长风汇都、瑞仕璟庭、和畅公寓。现有居民户数2567户，实际居住人口约6100人。党员127人，长护险13人左右，独居老人2人，其中孤老0人；残疾人17人；精访在册3人。
                    雅仕汇都居委会工作人员在日常“走四百”工作中，广泛听取社区居民建议后，收集民情民意，以“居民议事协商”为抓手，做到居民有需求，社区有回应。
                    居委会成立至今，突出特色和实效，有序开展各类活动：关心关爱社区高龄老人、独居老人等特殊群体；积极参加“创文创卫”创建工作，组织“清洁家园”、“文明修身”、“文明礼仪”等文明树新风活动；开展平安夜巡和反诈宣传，维护社区和谐稳定。一场场丰富多彩的活动让社区“活”起来、队伍“动”起来、群众“乐”起来。
                    和畅公寓新时代文明实践站位于丹巴路586弄和畅公寓3号楼201室。自成立以来，始终奉行“服务社区、弘扬新风”的宗旨，促进文明社区的创建，满足社区群众日益增长的文化生活需要，用微光温暖你我，用汗水守护家园。
                    雅仕汇都居委会获得荣誉：上海市妇女之家示范点（2020年年底）、上海市儿童友好社区示范点（2021年）、上海市节水型小区、全国防灾减灾示范社区、上海市无违建居村、上海市垃圾分类银奖。
                    近年来，雅仕汇都居民区党总支深化党建引领，与结对单位切实强化交流合作，全力构建“资源共享、优势互补、互相促进、共同发展”的党建共建联建崭新格局，定期与共建单位开展社区法律公益课堂、联合结对单位开展公益活动、慰问困难党员等。雅仕汇都居民区将以结对共建为抓手，充分挖掘和发挥各自的资源和优势，联手服务、联心发展，进一步做精做优基层治理服务，以更实举措回应居民群众美好生活新期盼。
                    下一步，雅仕汇都居委会将继续夯实阵地建设，扎实开展多层次、多样化的活动，扩大“服务圈”，织好“贴心网”，让文明之花绽放长风，不断提升人民群众的获得感、幸福感、安全感。
                </div>
              `
                // const name = encodeURIComponent(params.data.name); // 获取居委会名称并进行URL编码
                // window.open(`community.html?name=${name}`, '_blank'); // 使用正确的 URL 参数传递
                const cdata = cList.find(item => item.orgName.includes(params.data.name));
                console.log(cdata)
                document.getElementById("c_info").style.display = "block"
                const CinfoElement = document.getElementById('c_info');
                CinfoElement.innerHTML =
                    `<div><strong>人口数：</strong>${cdata.userNum}</div>
                    <div><strong>户籍数：</strong>${cdata.localNum}</div>
                    <div><strong>居住数：</strong>${cdata.liveNum}</div>
                    <div><strong>楼宇数：</strong>${cdata.buildingNum}</div>
                    <div><strong>房屋数：</strong>${cdata.houseNum}</div>
                    <div><strong>小区数：</strong>${cdata.villageNum}</div>`

                data_fgl[0].value = randomInt(11, 82)
                myChart.setOption(option);


                // 修改性别比例
                let male = randomInt(2, 4)
                let female = randomInt(4, 6)
                const option1 = generateAgeDistributionChartOption({
                    male: male,
                    female: female,
                    step: 10 // 👈 每10岁为一个组
                });
                var myChart1 = echarts.init(document.getElementById('r1'));
                myChart1.setOption(option1);


                // 获取随机的社工能力数据
                const peopleData = generateRandomPeopleData(male + female);
                const option_radar = {
                    title: {
                        subtext: '社工能力评估雷达图',
                        text: params.data.name,
                        left: 'center'
                    },
                    legend: {
                        bottom: "0"
                    },
                    tooltip: {},
                    radar: {
                        indicator: [
                            {name: '沟通能力', max: 100},
                            {name: '危机应对', max: 100},
                            {name: '组织协调', max: 100},
                            {name: '政策理解', max: 100},
                            {name: '情绪管理', max: 100},
                            {name: '资源链接', max: 100}
                        ],
                        shape: 'circle',
                        radius: 100,
                        splitNumber: 5,
                        axisName: {
                            color: '#333',
                            fontSize: 14
                        }
                    },
                    series: [
                        {
                            name: '能力评分',
                            type: 'radar',
                            data: peopleData,
                            areaStyle: {
                                opacity: 0.1
                            }
                        }
                    ]
                };
                // 渲染图表
                const chart_radar = echarts.init(document.getElementById('radar'));
                chart_radar.setOption(option_radar);


                // calendar
                const pieSeries = scatterData.map(function (item, index) {
                    let i = {
                        type: 'pie',
                        // roseType: "radius",
                        id: 'pie-' + index,
                        center: item[0],
                        radius: pieRadius,
                        coordinateSystem: 'calendar',
                        label: {
                            formatter: '{c}',
                            position: 'inside'
                        },
                        data: [
                            {name: '蓝色', value: Math.round(Math.random() * 5)},
                            {name: '绿色', value: Math.round(Math.random() * 20)},
                            {name: '黄色', value: Math.round(Math.random() * 20)},
                            {name: '红色', value: Math.round(Math.random() * 40)}
                        ]
                    };
                    return i
                });
                optionC = {
                    title: {
                        text: "微格分色服务情况，日历视图",
                        left: "center"
                    },
                    tooltip: {},
                    legend: {
                        data: ['蓝色', '绿色', '黄色', '红色'],
                        top: 30
                    },
                    calendar: {
                        top: '80',
                        left: 'center',
                        orient: 'vertical',
                        cellSize: cellSize,
                        yearLabel: {
                            show: false,
                            fontSize: 20
                        },
                        dayLabel: {
                            margin: 10,
                            firstDay: 7,
                            nameMap: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
                        },
                        monthLabel: {
                            show: true
                        },
                        range: ['2025-04']
                    },
                    series: [
                        {
                            id: 'label',
                            type: 'scatter',
                            name: "日期",
                            coordinateSystem: 'calendar',
                            symbolSize: 0,
                            label: {
                                show: true,
                                formatter: function (params) {
                                    return echarts.time.format(params.value[0], '{dd}', false);
                                },
                                offset: [-cellSize[0] / 2 + 10, -cellSize[1] / 2 + 10],
                                fontSize: 14
                            },
                            data: scatterData
                        },
                        ...pieSeries
                    ]
                };

                const chart333 = echarts.init(document.getElementById('r2'));
                chart333.setOption(optionC);


            }
            if (params.seriesName === 'B组') {
                document.getElementById("activity_list").style.display = "block"
            }
            if (params.seriesType === 'effectScatter') {
                // Redirect to the desired page
                window.location.href = "030HousePage.html";
            }

        });


        // 适应窗口变化
        window.addEventListener('resize', function () {
            myChart.resize();
        });

    };


    function show_spot() {

        const data3 = [
            [623.7954938271605, 709.085324074074, 10, "点击会跳转到房态图"],
            [822.2521296296296, 610.3060030864198, 15, "事件B"]
        ]

        const geoCoordLines = [];

// 生成经线（纵向）
        for (let lon = 0; lon <= 1600; lon += 100) {
            geoCoordLines.push({
                coords: [
                    [lon, 0],
                    [lon, 800]
                ],
                lineStyle: {
                    color: '#ccc',
                    width: 2,
                    type: 'dashed'
                }
            });
        }

// 生成纬线（横向）
        for (let lat = 0; lat <= 800; lat += 100) {
            geoCoordLines.push({
                coords: [
                    [0, lat],
                    [1600, lat]
                ],
                lineStyle: {
                    color: '#ccc',
                    width: 2,
                    type: 'dashed'
                }
            });
        }


        let linepart = {
            type: 'lines',
            coordinateSystem: 'geo',
            geoIndex: 0,
            data: geoCoordLines,
            silent: true,
            lineStyle: {
                opacity: 1
            }
        }

        let scatter = {
            name: "涟漪图",
            type: 'effectScatter',
            coordinateSystem: 'geo',
            geoIndex: 0,
            symbolSize: function (params) {
                return (params[2] / 10) * 15 + 5;
            },
            itemStyle: {
                color: '#0b6fde'
            },
            encode: {
                tooltip: 2
            },
            data: data3,
            tooltip: {
                trigger: 'item',
                formatter: function (params) {
                    const data = params.data;
                    return `${data[3]}`;
                }
            },

        }

        series.push(linepart)
        series.push(scatter)
        option.series = series
        myChart.setOption(option)


    }

    function cover_rate() {
        let data11 = [
            {
                "userNum": 5116,
                "liveNum": 4430,
                "orgName": "曹家巷",
                "committeeNum": 0,
                "unLocalNum": 1975,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 855,
                "orgId": "042CAA67F4668C96",
                "localNum": 2610,
                "addNum": 0,
                "buildingNum": 74,
                "villageNum": 5,
                "hzrbzNum": 864,
                "rzhbzNum": 2586,
                "houseNum": 1157,
                "value": [
                    1144.6560952369705,
                    510.3740270395594
                ],
                "name": "曹家巷",
                "index": 13,
                "address": "中山北路3676弄4号底楼",
                "phone": "62236347",
                "fgs": 775
            },
            {
                "userNum": 2798,
                "liveNum": 2621,
                "orgName": "中山桥",
                "committeeNum": 0,
                "unLocalNum": 1120,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 642,
                "orgId": "FD10547CC89A7F4D",
                "localNum": 1023,
                "addNum": 0,
                "buildingNum": 22,
                "villageNum": 3,
                "hzrbzNum": 99,
                "rzhbzNum": 1577,
                "houseNum": 716,
                "value": [
                    1159.905815810657,
                    616.3935422502618
                ],
                "name": "中山桥",
                "index": 14,
                "address": "凯旋北路1888弄8号201室",
                "phone": "52681289",
                "fgs": 415
            },
            {
                "userNum": 7150,
                "liveNum": 7008,
                "orgName": "师大一村",
                "committeeNum": 0,
                "unLocalNum": 2673,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2528,
                "orgId": "849F56D6E4965D72",
                "localNum": 9652,
                "addNum": 0,
                "buildingNum": 380,
                "villageNum": 1,
                "hzrbzNum": 83,
                "rzhbzNum": 3831,
                "houseNum": 2128,
                "value": [
                    1137.6873579741962,
                    589.5165305624088
                ],
                "name": "师大一村",
                "index": 7,
                "address": "中山北路3671弄1号101室",
                "phone": "62232830",
                "fgs": 936
            },
            {
                "userNum": 2023,
                "liveNum": 1818,
                "orgName": "新渡口",
                "committeeNum": 0,
                "unLocalNum": 761,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 520,
                "orgId": "F2A51E6342625935",
                "localNum": 3239,
                "addNum": 0,
                "buildingNum": 200,
                "villageNum": 3,
                "hzrbzNum": 127,
                "rzhbzNum": 1166,
                "houseNum": 608,
                "value": [
                    941.2868167285947,
                    692.8324922694218
                ],
                "name": "新渡口",
                "index": 9,
                "address": "光复西路2213弄89号1楼",
                "phone": "62602971",
                "fgs": 328
            },
            {
                "userNum": 5825,
                "liveNum": 5656,
                "orgName": "长风一村",
                "committeeNum": 0,
                "unLocalNum": 2245,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 675,
                "orgId": "57D77FA915605315",
                "localNum": 2867,
                "addNum": 0,
                "buildingNum": 98,
                "villageNum": 3,
                "hzrbzNum": 3,
                "rzhbzNum": 4151,
                "houseNum": 1719,
                "value": [
                    894.0499784393191,
                    404.103543216557
                ],
                "name": "长风一村",
                "index": 1,
                "address": "长风一村37号",
                "phone": "62574725",
                "fgs": 653
            },
            {
                "userNum": 5540,
                "liveNum": 5414,
                "orgName": "长二一委",
                "committeeNum": 0,
                "unLocalNum": 2121,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1175,
                "orgId": "47296E8561B496AD",
                "localNum": 5543,
                "addNum": 0,
                "buildingNum": 82,
                "villageNum": 2,
                "hzrbzNum": 54,
                "rzhbzNum": 3580,
                "houseNum": 1913,
                "value": [
                    707.093611673449,
                    340.2110475036418
                ],
                "name": "长二一委",
                "index": 2,
                "address": "长风二村137号101室",
                "phone": "62223425",
                "fgs": 1013
            },
            {
                "userNum": 8209,
                "liveNum": 7808,
                "orgName": "长风三村",
                "committeeNum": 0,
                "unLocalNum": 2778,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2015,
                "orgId": "D85821889A11534A",
                "localNum": 4589,
                "addNum": 0,
                "buildingNum": 271,
                "villageNum": 3,
                "hzrbzNum": 416,
                "rzhbzNum": 4965,
                "houseNum": 2291,
                "value": [
                    806.2596764465688,
                    486.9435282152614
                ],
                "name": "长风三村",
                "index": 4,
                "address": "枣阳路465弄12号101室",
                "phone": "62862292",
                "fgs": 733
            },
            {
                "userNum": 5771,
                "liveNum": 5226,
                "orgName": "长四一委",
                "committeeNum": 0,
                "unLocalNum": 1814,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1420,
                "orgId": "C9B35BB8C577AAAB",
                "localNum": 3843,
                "addNum": 0,
                "buildingNum": 89,
                "villageNum": 3,
                "hzrbzNum": 357,
                "rzhbzNum": 3565,
                "houseNum": 1914,
                "value": [
                    733.5544227042859,
                    456.47656474230473
                ],
                "name": "长四一委",
                "index": 5,
                "address": "怒江路131弄2号104室",
                "phone": "62869557",
                "fgs": 899
            },
            {
                "userNum": 3326,
                "liveNum": 3162,
                "orgName": "长四二委",
                "committeeNum": 0,
                "unLocalNum": 1177,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 894,
                "orgId": "530401C874EEF563",
                "localNum": 1671,
                "addNum": 0,
                "buildingNum": 44,
                "villageNum": 4,
                "hzrbzNum": 46,
                "rzhbzNum": 2052,
                "houseNum": 948,
                "value": [
                    730.4384832581881,
                    526.7583100265115
                ],
                "name": "长四二委",
                "index": 6,
                "address": "怒江路30弄3号105室",
                "phone": "62454636",
                "fgs": 350
            },
            {
                "userNum": 7537,
                "liveNum": 7452,
                "orgName": "长二二委",
                "committeeNum": 0,
                "unLocalNum": 2389,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2608,
                "orgId": "D8508FEC8314257E",
                "localNum": 4530,
                "addNum": 0,
                "buildingNum": 74,
                "villageNum": 4,
                "hzrbzNum": 36,
                "rzhbzNum": 4363,
                "houseNum": 2236,
                "value": [
                    769.9070495754273,
                    336.6860038145435
                ],
                "name": "长二二委",
                "index": 3,
                "address": "长风二村46号",
                "phone": "62436551",
                "fgs": 983
            },
            {
                "userNum": 9098,
                "liveNum": 8898,
                "orgName": "锦绿",
                "committeeNum": 0,
                "unLocalNum": 2113,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2879,
                "orgId": "6D0C9D4EB98FA69E",
                "localNum": 5243,
                "addNum": 0,
                "buildingNum": 77,
                "villageNum": 3,
                "hzrbzNum": 114,
                "rzhbzNum": 5535,
                "houseNum": 2583,
                "value": [
                    1399.8139052518704,
                    366.4953486037123
                ],
                "name": "锦绿",
                "index": 23,
                "address": "宁夏路353弄12号101室",
                "phone": "62604728",
                "fgs": 1084
            },
            {
                "userNum": 2827,
                "liveNum": 2768,
                "orgName": "曹家村",
                "committeeNum": 0,
                "unLocalNum": 897,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 546,
                "orgId": "11A6A40629A6C88C",
                "localNum": 2732,
                "addNum": 0,
                "buildingNum": 83,
                "villageNum": 3,
                "hzrbzNum": 16,
                "rzhbzNum": 1900,
                "houseNum": 835,
                "value": [
                    1428.9129124271094,
                    511.34752116576476
                ],
                "name": "曹家村",
                "index": 21,
                "address": "白玉路678弄7号203室",
                "phone": "52365195",
                "fgs": 526
            },
            {
                "userNum": 4272,
                "liveNum": 4185,
                "orgName": "白玉一委",
                "committeeNum": 0,
                "unLocalNum": 1391,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 751,
                "orgId": "92494917B5B211DB",
                "localNum": 2270,
                "addNum": 0,
                "buildingNum": 40,
                "villageNum": 3,
                "hzrbzNum": 41,
                "rzhbzNum": 2856,
                "houseNum": 1351,
                "value": [
                    1252.8631322186761,
                    348.79071013563
                ],
                "name": "白玉一委",
                "index": 19,
                "address": "白玉新村85号101室",
                "phone": "62035413",
                "fgs": 661
            },
            {
                "userNum": 6390,
                "liveNum": 5924,
                "orgName": "白玉二委",
                "committeeNum": 0,
                "unLocalNum": 2235,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1714,
                "orgId": "98DEE502DAED12C5",
                "localNum": 3732,
                "addNum": 0,
                "buildingNum": 92,
                "villageNum": 5,
                "hzrbzNum": 115,
                "rzhbzNum": 3959,
                "houseNum": 1872,
                "value": [
                    1319.1419847396864,
                    348.93202965060016
                ],
                "name": "白玉二委",
                "index": 20,
                "address": "白玉新村18号107室",
                "phone": "62224511",
                "fgs": 973
            },
            {
                "userNum": 5657,
                "liveNum": 5453,
                "orgName": "普四一委",
                "committeeNum": 0,
                "unLocalNum": 1886,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1511,
                "orgId": "5B7D64DB5FE16879",
                "localNum": 2535,
                "addNum": 0,
                "buildingNum": 20,
                "villageNum": 3,
                "hzrbzNum": 105,
                "rzhbzNum": 3401,
                "houseNum": 1591,
                "value": [
                    1353.0637988495394,
                    243.24411681535972
                ],
                "name": "普四一委",
                "index": 17,
                "address": "白玉路100号",
                "phone": "62440226",
                "fgs": 827
            },
            {
                "userNum": 4032,
                "liveNum": 3522,
                "orgName": "普四二委",
                "committeeNum": 0,
                "unLocalNum": 1525,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 774,
                "orgId": "0BD9C161AE2536BB",
                "localNum": 4524,
                "addNum": 0,
                "buildingNum": 41,
                "villageNum": 5,
                "hzrbzNum": 333,
                "rzhbzNum": 2252,
                "houseNum": 1143,
                "value": [
                    1304.9341080195418,
                    265.92944879892536
                ],
                "name": "普四二委",
                "index": 18,
                "address": "白兰路88号",
                "phone": "62446154",
                "fgs": 342
            },
            {
                "userNum": 6735,
                "liveNum": 6373,
                "orgName": "普陀二村",
                "committeeNum": 0,
                "unLocalNum": 2088,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1849,
                "orgId": "3C3128D715901965",
                "localNum": 2913,
                "addNum": 0,
                "buildingNum": 62,
                "villageNum": 4,
                "hzrbzNum": 282,
                "rzhbzNum": 5536,
                "houseNum": 1590,
                "value": [
                    1385.277762454008,
                    322.02978188530903
                ],
                "name": "普陀二村",
                "index": 16,
                "address": "宁夏路312弄1号2室",
                "phone": "62441804",
                "fgs": 1017
            },
            {
                "userNum": 6983,
                "liveNum": 6495,
                "orgName": "金沙",
                "committeeNum": 0,
                "unLocalNum": 2195,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1846,
                "orgId": "D53FB6FCBA9EE02D",
                "localNum": 5283,
                "addNum": 0,
                "buildingNum": 140,
                "villageNum": 7,
                "hzrbzNum": 230,
                "rzhbzNum": 4142,
                "houseNum": 2358,
                "value": [
                    1318.9541357522362,
                    397.798554356354
                ],
                "name": "金沙",
                "index": 22,
                "address": "顺义路南林家港12号底楼",
                "phone": "62869103",
                "fgs": 1579
            },
            {
                "userNum": 5783,
                "liveNum": 5444,
                "orgName": "海鑫",
                "committeeNum": 0,
                "unLocalNum": 1415,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1559,
                "orgId": "5CD4AAB10D26EBAB",
                "localNum": 2284,
                "addNum": 0,
                "buildingNum": 79,
                "villageNum": 2,
                "hzrbzNum": 210,
                "rzhbzNum": 3375,
                "houseNum": 1757,
                "value": [
                    1041.3919032460049,
                    686.1027385539664
                ],
                "name": "海鑫",
                "index": 11,
                "address": "光复西路2077弄32号二楼",
                "phone": "62600095",
                "fgs": 948
            },
            {
                "userNum": 4506,
                "liveNum": 4245,
                "orgName": "师大三村",
                "committeeNum": 0,
                "unLocalNum": 1439,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1534,
                "orgId": "A08F924A3EFDFF90",
                "localNum": 2375,
                "addNum": 0,
                "buildingNum": 64,
                "villageNum": 3,
                "hzrbzNum": 206,
                "rzhbzNum": 2283,
                "houseNum": 1131,
                "value": [
                    649.3540229244668,
                    414.5231697486255
                ],
                "name": "师大三村",
                "index": 8,
                "address": "金沙江路895弄60号301室",
                "phone": "62652253",
                "fgs": 723
            },
            {
                "userNum": 2404,
                "liveNum": 2344,
                "orgName": "中江",
                "committeeNum": 0,
                "unLocalNum": 900,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 736,
                "orgId": "715FE0491A79FA9E",
                "localNum": 1521,
                "addNum": 0,
                "buildingNum": 51,
                "villageNum": 1,
                "hzrbzNum": 29,
                "rzhbzNum": 1408,
                "houseNum": 706,
                "value": [
                    394.49432734779276,
                    483.3689078758541
                ],
                "name": "中江",
                "index": 12,
                "address": "中江路624-626号",
                "phone": "52819258",
                "fgs": 310
            },
            {
                "userNum": 8573,
                "liveNum": 8136,
                "orgName": "清水湾",
                "committeeNum": 0,
                "unLocalNum": 2816,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2377,
                "orgId": "3B1BB89DC317523D",
                "localNum": 3382,
                "addNum": 0,
                "buildingNum": 60,
                "villageNum": 1,
                "hzrbzNum": 178,
                "rzhbzNum": 4362,
                "houseNum": 2034,
                "value": [
                    1236.1721355561554,
                    640.5208417449916
                ],
                "name": "清水湾",
                "index": 24,
                "address": "凯旋北路1555弄70号2楼",
                "phone": "52682500",
                "fgs": 833
            },
            {
                "userNum": 10190,
                "liveNum": 9627,
                "orgName": "世纪同乐",
                "committeeNum": 0,
                "unLocalNum": 2769,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2752,
                "orgId": "06A61DB95F4AD59D",
                "localNum": 3507,
                "addNum": 0,
                "buildingNum": 50,
                "villageNum": 1,
                "hzrbzNum": 276,
                "rzhbzNum": 6463,
                "houseNum": 2569,
                "value": [
                    1443.6186309742889,
                    395.79622298447606
                ],
                "name": "世纪同乐",
                "index": 25,
                "address": "顺义路130号三楼",
                "phone": "52360276",
                "fgs": 1233
            },
            {
                "userNum": 5746,
                "liveNum": 5735,
                "orgName": "紫御豪庭",
                "committeeNum": 0,
                "unLocalNum": 1851,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1554,
                "orgId": "BC15154C331201D9",
                "localNum": 1874,
                "addNum": 0,
                "buildingNum": 200,
                "villageNum": 3,
                "hzrbzNum": 0,
                "rzhbzNum": 3916,
                "houseNum": 1533,
                "value": [
                    95.63242289642241,
                    503.6155077860561
                ],
                "name": "紫御豪庭",
                "index": 26,
                "address": "同普路689弄5号三楼",
                "phone": "52788996",
                "fgs": 1027
            },
            {
                "userNum": 6931,
                "liveNum": 6923,
                "orgName": "雅仕汇都",
                "committeeNum": 0,
                "unLocalNum": 1697,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 2079,
                "orgId": "3A3E863F91A83D8D",
                "localNum": 2219,
                "addNum": 0,
                "buildingNum": 47,
                "villageNum": 4,
                "hzrbzNum": 0,
                "rzhbzNum": 6065,
                "houseNum": 1733,
                "value": [
                    243.66204039899952,
                    437.3861670713435
                ],
                "name": "雅仕汇都",
                "index": 27,
                "address": "泸定路555弄19号二楼",
                "phone": "52855850",
                "fgs": 1126
            },
            {
                "userNum": 6992,
                "liveNum": 6827,
                "orgName": "95弄",
                "committeeNum": 0,
                "unLocalNum": 2543,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 1789,
                "orgId": "7ABF7C7C496162F7",
                "localNum": 3084,
                "addNum": 0,
                "buildingNum": 69,
                "villageNum": 2,
                "hzrbzNum": 75,
                "rzhbzNum": 4829,
                "houseNum": 1773,
                "value": [
                    819.3100306359535,
                    715.966020666302
                ],
                "name": "95弄",
                "index": 10,
                "address": "大渡河路21弄16号1楼",
                "phone": "62864687",
                "fgs": 939
            },
            {
                "userNum": 6970,
                "liveNum": 6846,
                "orgName": "隆德",
                "committeeNum": 0,
                "unLocalNum": 1963,
                "editNum": 0,
                "cancelNum": 0,
                "rzhzNum": 690,
                "orgId": "27D45530BCCEEA13",
                "localNum": 3100,
                "addNum": 0,
                "buildingNum": 50,
                "villageNum": 3,
                "hzrbzNum": 53,
                "rzhbzNum": 5378,
                "houseNum": 2116,
                "value": [
                    1538.3400570706726,
                    482.83569958478137
                ],
                "name": "隆德",
                "index": 15,
                "address": "光复西路1145弄19号",
                "phone": "52359419",
                "fgs": 952
            }
        ]

        function PieSeries(center, data1, data2, name) {
            return {
                type: 'pie',
                roseType: "radius",
                name: name,
                coordinateSystem: 'geo',
                tooltip: {
                    show: false,
                    formatter: '{b}: {c} ({d}%)'
                },
                label: {
                    show: false,
                    position: 'center',
                    formatter: '{b} \n {d}%',
                    color: "#000",
                    backgroundColor: "#fff",

                },
                labelLine: {
                    show: false
                },
                animationDuration: 0,
                radius: ['6%', '10%'],
                avoidLabelOverlap: false,
                itemStyle: {
                    borderRadius: 7
                },
                center,
                data: [
                    {
                        value: data1, name: name, itemStyle: {
                            color: "#66bb3b"
                        }, emphasis: {
                            label: {
                                show: true,
                                color: '#66bb3b',
                                fontWeight: 'bold',
                                fontSize: 30
                            }
                        }
                    }, {
                        value: data2 - data1, name: name, itemStyle: {
                            color: "#f00"
                        }, emphasis: {
                            label: {
                                show: true,
                                color: '#f00', // B项高亮时，文字为蓝色
                                fontWeight: 'bold',
                                fontSize: 30
                            }
                        }
                    }
                ],
                z: 3,
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)',


                    },

                }
            };
        }

        const series3 = data11.map(item =>
            PieSeries(item['value'], item['fgs'], item['houseNum'], item['name'])
        );


        // 设置图表选项
        series = series.concat(series3)
        option.series = series
        myChart.setOption(option)
    }

    function goto_community() {
        window.location.href = "030HousePage.html";
    }


</script>
<script data-name="cf_Statistic">
    const {createApp} = Vue

    createApp({
        data() {
            return {
                data: {
                    "orgId": "65FDE827845184A8",
                    "orgName": "长风新村街道",
                    "committeeNum": 27, // 居民区总数
                    "villageNum": 111, // 小区总数
                    "buildingNum": 2559,// 楼宇总数
                    "houseNum": 44305, // 房屋总数
                    "userNum": 150290, // 人口总数
                    "localNum": 92145, // 户籍数
                    "unLocalNum": 48599, // 外籍来沪
                    "gatNum": 441, // 港澳台
                    "foreignNum": 554, // 外籍人士
                    "addNum": 666, // 流入人数
                    "cancelNum": 0,
                    "liveNum": 143275, //居住数量
                    "rzhzNum": 40889, // 人在户不在
                    "hzrbzNum": 3731, // 户在人不在
                    "rzhbzNum": 93845, // 人在户在
                }
            }
        }
    })
        .use(ElementPlus)
        .mount('#c_info')
</script>
<script data-name="base_info">
    const App1 = {
        data() {
            return {
                data: 123
            }
        }
    }
    const App1_1 = Vue.createApp(App1)
    App1_1.use(ElementPlus).mount('#base_info')
</script>
<script data-name="rigt_part">
    const App2 = {
        data() {
            return {
                data: 123
            }
        }
    }
    const App1_2 = Vue.createApp(App2)
    App1_2.use(ElementPlus).mount('#right-part')
</script>
<script data-name="bb">
    const App3 = {
        data() {
            return {
                data: 123
            }
        }
    }
    const App1_3 = Vue.createApp(App3)
    App1_3.use(ElementPlus).mount('#bb')
</script>

<script data-name="age_gender">
    function randomNormal(mean, stdDev) {
        let u = 0, v = 0;
        while (u === 0) u = Math.random();
        while (v === 0) v = Math.random();
        const num = Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);
        return Math.round(num * stdDev + mean);
    }

    function generateAgeBuckets(minAge, maxAge, step) {
        const numBuckets = Math.floor((maxAge - minAge + 1) / step);
        const ageRanges = Array.from({length: numBuckets}, (_, i) => {
            const start = minAge + i * step;
            const end = start + step - 1;
            return `${start}-${end}`;
        });
        const buckets = Array(numBuckets).fill(0);
        return {ageRanges, buckets};
    }

    function generateRandomAges(count, mean, stdDev, minAge, maxAge, step) {
        const {ageRanges, buckets} = generateAgeBuckets(minAge, maxAge, step);
        for (let i = 0; i < count; i++) {
            let age;
            do {
                age = randomNormal(mean, stdDev);
            } while (age < minAge || age > maxAge);
            const bucketIndex = Math.floor((age - minAge) / step);
            buckets[bucketIndex]++;
        }
        return buckets;
    }

    function buildAgeChartOption(seriesData, ageRanges) {
        return {
            title: {
                text: "社工年龄分布",
                left: "center",
                top: "10%"
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {type: 'shadow'}
            },
            legend: {
                data: seriesData.map(s => s.name)
            },
            xAxis: {
                type: 'category',
                data: ageRanges,
                name: 'Age Range'
            },
            yAxis: {
                type: 'value',
                name: 'Count'
            },
            series: seriesData.map(s => ({
                name: s.name,
                type: 'bar',
                stack: 'gender',
                data: s.data,
                color: s.color
            }))
        };
    }

    // 🎯 主函数：增加 step 参数
    function generateAgeDistributionChartOption({
                                                    male = 50,
                                                    female = 150,
                                                    mean = 42,
                                                    stdDev = 10,
                                                    minAge = 20,
                                                    maxAge = 69,
                                                    step = 10
                                                } = {}) {
        const {ageRanges} = generateAgeBuckets(minAge, maxAge, step);

        const groups = [
            {key: 'male', label: 'Male', color: '#546ec0', count: male},
            {key: 'female', label: 'Female', color: '#e66464', count: female}
        ];

        const seriesData = groups.map(group => ({
            name: group.label,
            data: generateRandomAges(group.count, mean, stdDev, minAge, maxAge, step),
            color: group.color
        }));

        return buildAgeChartOption(seriesData, ageRanges);
    }

    function randomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    const option1 = generateAgeDistributionChartOption({
        male: randomInt(30, 60),
        female: randomInt(120, 160),
        step: 10 // 👈 每10岁为一个组
    });

    var myChart1 = echarts.init(document.getElementById('r1'));

    myChart1.setOption(option1);


</script>
<script data-name="calender">
    var optionC;

    // This example requires ECharts v5.4.0 or later
    const cellSize = [80, 80];
    const pieRadius = 30;

    function getVirtualData() {
        const date = +echarts.time.parse('2025-04-01');
        const end = +echarts.time.parse('2025-04-13');
        const dayTime = 3600 * 24 * 1000;
        const data = [];
        for (let time = date; time < end; time += dayTime) {
            data.push([
                echarts.time.format(time, '{yyyy}-{MM}-{dd}', false)
            ]);
        }
        return data;
    }

    const scatterData = getVirtualData();
    const pieSeries = scatterData.map(function (item, index) {
        let i = {
            type: 'pie',
            id: 'pie-' + index,
            center: item[0],
            radius: pieRadius,
            coordinateSystem: 'calendar',
            label: {
                formatter: '{c}',
                position: 'inside'
            },
            data: [
                {name: '蓝色', value: Math.round(Math.random() * 20)},
                {name: '绿色', value: Math.round(Math.random() * 140)},
                {name: '黄色', value: Math.round(Math.random() * 80)},
                {name: '红色', value: Math.round(Math.random() * 200)}
            ]
        };
        return i
    });
    optionC = {
        title: {
            text: "微格分色服务情况，日历视图",
            left: "center",
            textStyle: {
                fontSize: 25
            }
        },
        tooltip: {},
        legend: {
            data: ['蓝色', '绿色', '黄色', '红色'],
            top: 30
        },
        calendar: {
            top: '80',
            left: 'center',
            orient: 'vertical',
            cellSize: cellSize,
            yearLabel: {
                show: false,
                fontSize: 20
            },
            dayLabel: {
                margin: 10,
                firstDay: 7,
                nameMap: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
            },
            monthLabel: {
                show: true
            },
            range: ['2025-04']
        },
        series: [
            {
                id: 'label',
                type: 'scatter',
                name: "日期",
                coordinateSystem: 'calendar',
                symbolSize: 0,
                label: {
                    show: true,
                    formatter: function (params) {
                        return echarts.time.format(params.value[0], '{dd}', false);
                    },
                    offset: [-cellSize[0] / 2 + 10, -cellSize[1] / 2 + 10],
                    fontSize: 14
                },
                data: scatterData
            },
            ...pieSeries
        ]
    };

    const chart333 = echarts.init(document.getElementById('r2'));
    chart333.setOption(optionC);
</script>
<script data-name="radar">
    // 工具函数：生成随机数（0-100之间）
    function randomScore() {
        return Math.floor(Math.random() * 101); // 0到100的整数
    }

    // 生成随机数据，人数为6到11
    function generateRandomPeopleData(numPeople) {
        const peopleData = [];
        for (let i = 0; i < numPeople; i++) {
            peopleData.push({
                name: `居委 ${i + 1}`,
                value: [
                    randomScore(), // 沟通能力
                    randomScore(), // 危机应对
                    randomScore(), // 组织协调
                    randomScore(), // 政策理解
                    randomScore(), // 情绪管理
                    randomScore()  // 资源链接
                ]
            });
        }
        return peopleData;
    }

    // 获取随机的社工能力数据
    const peopleData = generateRandomPeopleData(27);
    const option_radar = {
        title: {
            text: '社工能力评估雷达图',
            left: 'center'
        },
        tooltip: {},
        radar: {
            indicator: [
                {name: '沟通能力', max: 100},
                {name: '危机应对', max: 100},
                {name: '组织协调', max: 100},
                {name: '政策理解', max: 100},
                {name: '情绪管理', max: 100},
                {name: '资源链接', max: 100}
            ],
            shape: 'circle',
            radius: 100,
            splitNumber: 5,
            axisName: {
                color: '#333',
                fontSize: 14
            }
        },
        series: [
            {
                name: '能力评分',
                type: 'radar',
                data: peopleData,
                areaStyle: {
                    opacity: 0.2
                }
            }
        ]
    };

    // 渲染图表
    const chart_radar = echarts.init(document.getElementById('radar'));
    chart_radar.setOption(option_radar);


</script>

<script data-name="aed">
    let aed_map = [
        {
            "name": "95弄",
            "village": "宋家滩",
            "position": "宋家滩门卫室",
            "contact": "孙钟杉",
            "tel": "62864687",
            "value": [
                788.9379049117387, 727.4904105008242
            ],
            "index": 10,
            "address": "大渡河路21弄16号1楼"
        },
        {
            "name": "95弄",
            "village": "冠龙",
            "position": "冠龙门卫室",
            "contact": "孙钟杉",
            "tel": "62864687",
            "value": [
                862.7231713610913, 692.6682728845233
            ],
            "index": 10,
            "address": "大渡河路21弄16号1楼"
        },
        {
            "name": "长四二委",
            "village": "星风花苑",
            "position": "星风花苑门卫室（怒江路30弄）",
            "contact": "程建国",
            "tel": "17721382678",
            "value": [
                684.9307506541825, 504.0592786438908
            ],
            "index": 6,
            "address": "怒江路30弄3号105室"
        },
        {
            "name": "长四二委",
            "village": "海运",
            "position": "海运门卫室",
            "contact": "程建国",
            "tel": "17721382678",
            "value": [
                670.0167313962687, 585.130357686909
            ],
            "index": 6,
            "address": "怒江路30弄3号105室"
        },
        {
            "name": "白玉一委",
            "village": "白玉新村",
            "position": "白一居委会",
            "contact": "李文斌",
            "tel": "15001748748",
            "value": [
                1267.7797565489143, 374.7176358101121
            ],
            "index": 19,
            "address": "白玉新村85号101室"
        },
        {
            "name": "白玉一委",
            "village": "白玉大楼",
            "position": "大楼门卫处",
            "contact": "李文斌",
            "tel": "15001748748",
            "value": [
                1238.9793556307504, 382.9146729945126
            ],
            "index": 19,
            "address": "白玉新村85号101室"
        },
        {
            "name": "曹家巷",
            "village": "曹家巷小区",
            "position": "曹家巷居委会",
            "contact": "金晓岚",
            "tel": "13361867393",
            "value": [
                1144.6560952369705,
                510.3740270395594
            ],
            "index": 13,
            "address": "中山北路3676弄4号底楼"
        },
        {
            "name": "长四一",
            "village": "申安馨苑",
            "position": "门卫室",
            "contact": "王迪文",
            "tel": "13916001063",
            "value": [
                745.9023559255072, 452.11635895324923
            ],
            "index": 5,
            "address": "怒江路131弄2号104室"
        },
        {
            "name": "长四一",
            "village": "金河苑",
            "position": "门卫室",
            "contact": "王迪文",
            "tel": "13916001063",
            "value": [
                700.3125340436438, 383.7316261304542
            ],
            "index": 5,
            "address": "怒江路131弄2号104室"
        },
        {
            "name": "普二",
            "village": "曹宁小区",
            "position": "门卫室",
            "contact": "潘道光",
            "tel": "13585539913",
            "value": [
                1443.8200119400133, 251.1693499305046
            ],
            "index": 16,
            "address": "宁夏路312弄1号2室"
        },
        {
            "name": "普二",
            "village": "绿地世家",
            "position": "白玉路门卫室",
            "contact": "潘道光",
            "tel": "13585539913",
            "value": [
                1385.277762454008,
                322.02978188530903
            ],
            "index": 16,
            "address": "宁夏路312弄1号2室"
        },
        {
            "name": "师大三村",
            "village": "华师大三村",
            "position": "大渡河路门卫室",
            "contact": "彭真卿",
            "tel": "62652253",
            "value": [
                652.8053355685668, 426.1579607268532
            ],
            "index": 8,
            "address": "金沙江路895弄60号301室"
        },
        {
            "name": "师大三村",
            "village": "建华大厦",
            "position": "大渡河路652弄3号楼物业/门卫室",
            "contact": "彭真卿",
            "tel": "62652253",
            "value": [
                657.8328997090006, 468.48680719953796
            ],
            "index": 8,
            "address": "金沙江路895弄60号301室"
        },
        {
            "name": "紫御豪庭",
            "village": "688弄一二期小区",
            "position": "丹巴路门岗",
            "contact": "苏莹",
            "tel": "52788996",
            "value": [
                156.72354262511263, 437.27485541215975
            ],
            "index": 26,
            "address": "同普路689弄5号三楼"
        },
        {
            "name": "紫御豪庭",
            "village": "689弄三期小区",
            "position": "同普路689门岗",
            "contact": "苏莹",
            "tel": "52788996",
            "value": [
                95.63242289642241,
                503.6155077860561
            ],
            "index": 26,
            "address": "同普路689弄5号三楼"
        },
        {
            "name": "紫御豪庭",
            "village": "沁和苑",
            "position": "同普路689门岗",
            "contact": "苏莹",
            "tel": "52788996",
            "value": [
                131.2284012639997, 532.959171932743
            ],
            "index": 26,
            "address": "同普路689弄5号三楼"
        },
        {
            "name": "雅仕汇都",
            "village": "雅仕名邸",
            "position": "19号楼居委会一楼大厅",
            "contact": "张龙",
            "tel": "52855850",
            "value": [
                243.66204039899952,
                437.3861670713435
            ],
            "index": 27,
            "address": "泸定路555弄19号二楼"
        },
        {
            "name": "雅仕汇都",
            "village": "瑞仕璟庭",
            "position": "2号楼物业大厅",
            "contact": "张龙",
            "tel": "52855850",
            "value": [
                178.99325120157857, 429.15280892964165
            ],
            "index": 27,
            "address": "泸定路555弄19号二楼"
        },
        {
            "name": "雅仕汇都",
            "village": "长风汇都",
            "position": "8号楼物业前台",
            "contact": "张龙",
            "tel": "52855850",
            "value": [
                257.6197934026623, 442.5909253636801
            ],
            "index": 27,
            "address": "泸定路555弄19号二楼"
        },
        {
            "name": "雅仕汇都",
            "village": "和畅",
            "position": "3号楼一楼大厅",
            "contact": "张龙",
            "tel": "52855850",
            "value": [
                192.23804878619646, 393.11811006748167
            ],
            "index": 27,
            "address": "泸定路555弄19号二楼"
        },
        {
            "name": "普四二",
            "village": "普陀四村",
            "position": "门卫室",
            "contact": "王佳",
            "tel": "62446154",
            "value": [
                1307.7846656398935, 271.0941599623892
            ],
            "index": 18,
            "address": "白兰路88号"
        },
        {
            "name": "普四二",
            "village": "曹杨路623弄小号",
            "position": "门卫室",
            "contact": "王佳",
            "tel": "62446154",
            "value": [
                1300.0665126946824, 214.33764962708844
            ],
            "index": 18,
            "address": "白兰路88号"
        },
        {
            "name": "新渡口",
            "village": "新渡口",
            "position": "新渡口居委会",
            "contact": "薛云",
            "tel": "62602971",
            "value": [
                941.2868167285947,
                692.8324922694218
            ],
            "index": 9,
            "address": "光复西路2213弄89号1楼"
        },
        {
            "name": "新渡口",
            "village": "2269或者文沁苑",
            "position": "2269或者文沁苑",
            "contact": "薛云",
            "tel": "62602971",
            "value": [
                890.3835497882477, 743.6163449924297
            ],
            "index": 9,
            "address": "光复西路2213弄89号1楼"
        },
        {
            "name": "曹家村",
            "village": "顺达公寓",
            "position": "顺义路188号物业保安室",
            "contact": "郭颖",
            "tel": "18918961928",
            "value": [
                1374.2982418220502, 420.0677184556527
            ],
            "index": 21,
            "address": "白玉路678弄7号203室"
        },
        {
            "name": "曹家村",
            "village": "海珀玉晖",
            "position": "白玉路678弄海珀玉晖物业安保监控室",
            "contact": "李琳",
            "tel": "13701901694",
            "value": [
                1421.5735626909677, 493.74586003626735
            ],
            "index": 21,
            "address": "白玉路678弄7号203室"
        },
        {
            "name": "锦绿",
            "village": "绿地世纪城一期",
            "position": "宁夏路353弄大门门岗室",
            "contact": "俞恺",
            "tel": "18516261128",
            "value": [
                1404.9059790156402, 331.23004409151326
            ],
            "index": 23,
            "address": "宁夏路353弄12号101室"
        },
        {
            "name": "锦绿",
            "village": "锦绿一期",
            "position": "曹杨路303弄大门门岗室",
            "contact": "俞恺",
            "tel": "18516261128",
            "value": [
                1468.71940831686, 315.2683587595884
            ],
            "index": 23,
            "address": "宁夏路353弄12号101室"
        },
        {
            "name": "锦绿",
            "village": "锦绿二期",
            "position": "曹杨路255弄门卫室",
            "contact": "俞恺",
            "tel": "18516261128",
            "value": [
                1468.6664477670793, 310.1387512237132
            ],
            "index": 23,
            "address": "宁夏路 353 弄 12 号 101 室"
        },
        {
            "name": "海鑫",
            "village": "海鑫公寓",
            "position": "海鑫公寓门卫室",
            "contact": "傅艳玲",
            "tel": "62600095",
            "value": [
                1125.238866745601, 677.7720368287703
            ],
            "index": 11,
            "address": "光复西路 2077 弄 32 号二楼"
        },
        {
            "name": "海鑫",
            "village": "黎金苑",
            "position": "居委会",
            "contact": "傅艳玲",
            "tel": "62600095",
            "value": [
                1034.9839106783197, 697.7051026991201
            ],
            "index": 11,
            "address": "光复西路 2077 弄 32 号二楼"
        },
        {
            "name": "中山桥居委",
            "village": "中山北路 3904、3924 弄",
            "position": "中山北路 3904、3924 弄保安门岗",
            "contact": "嵇德昆",
            "tel": "13817698005",
            "value": [
                1155.620371075801, 582.8753492382776
            ],
            "index": 14,
            "address": "凯旋北路 1888 弄 8 号 201 室"
        },
        {
            "name": "中山桥居委",
            "village": "中山润园",
            "position": "中山润园保安监控室",
            "contact": "嵇德昆",
            "tel": "13817698005",
            "value": [
                1159.905815810657,
                616.3935422502618
            ],
            "index": 14,
            "address": "凯旋北路 1888 弄 8 号 201 室"
        },
        {
            "name": "普四一",
            "village": "江南名庐",
            "position": "小门门卫室",
            "contact": "池伟丽",
            "tel": "18930372036",
            "value": [
                1346.6605192090901, 222.9533660073788
            ],
            "index": 17,
            "address": "白玉路 100 号"
        },
        {
            "name": "普四一",
            "village": "普陀四村",
            "position": "居委会",
            "contact": "池伟丽",
            "tel": "18930372036",
            "value": [
                1353.0637988495394,
                243.24411681535972
            ],
            "index": 17,
            "address": "白玉路 100 号"
        },
        {
            "name": "普四一",
            "village": "汽车公寓",
            "position": "门卫室",
            "contact": "池伟丽",
            "tel": "18930372036",
            "value": [
                1369.348224958143, 181.10389632989327
            ],
            "index": 17,
            "address": "白玉路 100 号"
        },
        {
            "name": "隆德",
            "village": "朝阳大楼",
            "position": "光复西路 1145 弄 20 号朝阳大楼非机动车停车库",
            "contact": "吴明静",
            "tel": "52359419",
            "value": [
                1555.8464768687681, 505.19408470666644
            ],
            "index": 15,
            "address": "光复西路 1145 弄 19 号"
        },
        {
            "name": "隆德",
            "village": "隆德小区",
            "position": "居委会",
            "contact": "吴明静",
            "tel": "52359419",
            "value": [
                1538.3400570706726,
                482.83569958478137
            ],
            "index": 15,
            "address": "光复西路 1145 弄 19 号"
        },
        {
            "name": "隆德",
            "village": "水岸豪庭",
            "position": "白玉路 669 弄 19 号 2 楼物业办公室",
            "contact": "吴明静",
            "tel": "52359419",
            "value": [
                1528.1537836782268, 533.3298609882565
            ],
            "index": 15,
            "address": "光复西路 1145 弄 19 号"
        },
        {
            "name": "长二一委",
            "village": "风荷苑",
            "position": "风荷苑后门门卫室",
            "contact": "薛韵",
            "tel": "62223425",
            "value": [
                710.4621811401319, 366.8385081141725
            ],
            "index": 2,
            "address": "长风二村 137 号 101 室"
        },
        {
            "name": "中江",
            "village": "中江小区",
            "position": "中江路 650 弄门卫室",
            "contact": "徐敏",
            "tel": "13817234616",
            "value": [
                395.82279418497154, 459.9105874556453
            ],
            "index": 12,
            "address": "中江路 624-626 号"
        },
        {
            "name": "长风一村",
            "village": "金沙江路 65 弄小区",
            "position": "小区正门安保室",
            "contact": "马海明",
            "tel": "13524109173",
            "value": [
                876.6798293677455, 376.08919208640845
            ],
            "index": 1,
            "address": "长风一村 37 号"
        },
        {
            "name": "长风一村",
            "village": "长风一村",
            "position": "小区正门安保室",
            "contact": "马海明",
            "tel": "13524109173",
            "value": [
                1054.6383453306657, 396.3651507343886
            ],
            "index": 1,
            "address": "长风一村 37 号"
        },
        {
            "name": "金沙",
            "village": "汇德里",
            "position": "顺义路 299 弄大门门卫室",
            "contact": "程敏",
            "tel": "62869103",
            "value": [
                1281.9766348985563, 387.1528649111484
            ],
            "index": 22,
            "address": "顺义路南林家港 12 号底楼"
        },
        {
            "name": "金沙",
            "village": "白玉苑",
            "position": "白玉路 358 弄大门门卫室",
            "contact": "程敏",
            "tel": "62869103",
            "value": [
                1281.9766348985563, 387.1528649111484
            ],
            "index": 22,
            "address": "顺义路南林家港 12 号底楼"
        },
        {
            "name": "金沙",
            "village": "康泰公寓",
            "position": "石湾路 7 弄东门门卫室",
            "contact": "程敏",
            "tel": "62869103",
            "value": [
                1245.3324907751116, 468.1710339977493
            ],
            "index": 22,
            "address": "顺义路南林家港 12 号底楼"
        },
        {
            "name": "金沙",
            "village": "南林家港",
            "position": "居委会",
            "contact": "程敏",
            "tel": "62869103",
            "value": [
                1334.1668053596704, 425.60372455891996
            ],
            "index": 22,
            "address": "顺义路南林家港 12 号底楼"
        },
        {
            "name": "白二",
            "village": "白玉新村",
            "position": "小区正门安保室",
            "contact": "高勇",
            "tel": "62224511",
            "value": [
                1329.6029155721865, 351.7862113010393
            ],
            "index": 20,
            "address": "白玉新村 18 号 107 室"
        },
        {
            "name": "白二",
            "village": "达丰新村",
            "position": "小区正门安保室",
            "contact": "高勇",
            "tel": "62224511",
            "value": [
                1304.5285135371628, 286.7494810226967
            ],
            "index": 20,
            "address": "白玉新村 18 号 107 室"
        },
        {
            "name": "长二二",
            "village": "长风二村",
            "position": "长风二村 46 号居委会",
            "contact": "施达",
            "tel": "13918585243",
            "value": [
                769.9070495754273,
                336.6860038145435
            ],
            "index": 3,
            "address": "长风二村 46 号"
        },
        {
            "name": "长二二",
            "village": "金阳怡景",
            "position": "长风二村 46 号居委会",
            "contact": "施达",
            "tel": "13918585243",
            "value": [
                847.9075859266804, 307.1648525746513
            ],
            "index": 3,
            "address": "长风二村 46 号"
        },
        {
            "name": "长风三村",
            "village": "枣阳路 465 弄",
            "position": "小区正门安保室",
            "contact": "盛琴燕",
            "tel": "15821213371",
            "value": [
                846.2718357164656, 470.7710082757532
            ],
            "index": 4,
            "address": "枣阳路 465 弄 12 号 101 室"
        },
        {
            "name": "长风三村",
            "village": "师大二村",
            "position": "小区正门安保室",
            "contact": "盛琴燕",
            "tel": "15821213372",
            "value": [
                841.2971591180968, 397.0062143566672
            ],
            "index": 4,
            "address": "枣阳路 465 弄 12 号 101 室"
        },
        {
            "name": "长风三村",
            "village": "枣阳路 530 弄小区",
            "position": "小区正门安保室",
            "contact": "盛琴燕",
            "tel": "15821213373",
            "value": [
                857.0992562339189, 540.661642682323
            ],
            "index": 4,
            "address": "枣阳路 465 弄 12 号 101 室"
        },
        {
            "name": "世纪同乐",
            "village": "世纪同乐",
            "position": "顺义路 100 弄大门门卫室",
            "contact": "赵亚敏",
            "tel": "52360276",
            "value": [
                1457.826410615212, 386.5488847765706
            ],
            "index": 25,
            "address": "顺义路 130 号三楼"
        },
        {
            "name": "清水湾",
            "village": "大华清水湾",
            "position": "35 号楼物业",
            "contact": "徐静",
            "tel": "52682500",
            "value": [
                1213.5880476783361, 491.7878491787757
            ],
            "index": 24,
            "address": "凯旋北路 1555 弄 70 号 2 楼"
        },
        {
            "name": "清水湾",
            "village": "清水湾三期",
            "position": "居委会",
            "contact": "徐静",
            "tel": "52682500",
            "value": [
                1255.367996815674, 629.5440244541301
            ],
            "index": 24,
            "address": "凯旋北路 1555 弄 70 号 2 楼"
        },
        {
            "name": "师大一村",
            "village": "中山北路 3671 弄",
            "position": "小区大门安保室",
            "contact": "杨莉",
            "tel": "62232830",
            "value": [
                1137.6873579741962,
                589.5165305624088
            ],
            "index": 7,
            "address": "中山北路 3671 弄 1 号 101 室"
        }
    ]


    function show_aed() {
        series = [
            // {
            //     name: 'aed',
            //     type: 'scatter',
            //     coordinateSystem: 'geo',
            //     geoIndex: 0,
            //     // symbol: 'circle',
            //     symbol: 'image://aed.svg',
            //     symbolSize: 40,
            //     data: aed_map,
            //     itemStyle: {
            //         color: 'green'
            //     },
            //     emphasis: {
            //         label: {
            //             color: '#000',      // 名称颜色
            //             backgroundColor: "#fff",
            //             fontSize: 50,        // 名称字体大小
            //             borderRadius: 10
            //         }
            //
            //     },
            //     label: {
            //         show: false, // 显示名称
            //         position: 'top',  // 名称显示在点的右侧
            //         formatter: '{b}',   // 显示每个点的名称
            //         color: '#000',      // 名称颜色
            //         backgroundColor: "#fff",
            //         fontSize: 20,        // 名称字体大小
            //         borderRadius: 5
            //     }
            // },
            {
                type: 'custom',
                coordinateSystem: 'geo',
                geoIndex: 0,
                zlevel: 1,
                data: aed_map,
                renderItem(params, api) {
                    const coord = api.coord([
                        api.value(0, params.value),
                        api.value(1, params.value)
                    ]);
                    const circles = [];
                    for (let i = 0; i < 5; i++) {
                        circles.push({
                            type: 'circle',
                            shape: {
                                cx: 0,
                                cy: 0,
                                r: 30
                            },
                            style: {
                                stroke: 'red',
                                fill: 'none',
                                lineWidth: 4
                            },
                            // Ripple animation
                            keyframeAnimation: {
                                duration: 4000,
                                loop: true,
                                delay: (-i / 4) * 4000,
                                keyframes: [
                                    {
                                        percent: 0,
                                        scaleX: 0,
                                        scaleY: 0,
                                        style: {
                                            opacity: 1
                                        }
                                    },
                                    {
                                        percent: 1,
                                        scaleX: 1,
                                        scaleY: 0.4,
                                        style: {
                                            opacity: 0
                                        }
                                    }
                                ]
                            }
                        });
                    }
                    return {
                        type: 'group',
                        x: coord[0],
                        y: coord[1],
                        children: [
                            ...circles,
                            {
                                type: 'path',
                                shape: {
                                    d: "m 25.762003,48.603294 3.799199,-9.023876 h -5.485081 l 10.135002,-11.329124 -4.167499,8.904567 h 5.522429 z m 12.29293,-24.888281 c -3.466691,0 -6.442661,2.088418 -7.754018,5.074244 -1.316025,-2.985826 -4.28992,-5.074244 -7.756093,-5.074244 -4.669114,0 -8.454307,3.783637 -8.454307,8.454826 0,9.269236 8.778515,17.816397 16.2104,21.594846 7.42981,-3.778449 16.20625,-12.32561 16.20625,-21.594846 0,-4.671189 -3.783637,-8.454826 -8.452232,-8.454826",
                                    x: -15,
                                    y: -35,
                                    width: 30,
                                    height: 30
                                },
                                style: {
                                    fill: '#ff3300'
                                },
                                // Jump animation.
                                keyframeAnimation: {
                                    duration: 1000,
                                    loop: true,
                                    delay: Math.random() * 1000,
                                    keyframes: [
                                        {
                                            y: -10,
                                            percent: 0.5,
                                            easing: 'cubicOut'
                                        },
                                        {
                                            y: 0,
                                            percent: 1,
                                            easing: 'bounceOut'
                                        }
                                    ]
                                }
                            }
                        ]
                    };
                }
            }
        ];
        // 配置ECharts的Option
        option = {
            tooltip: {
                trigger: 'item',
                formatter: function (params) {
                    const data = params.data;
                    return `
                        <b>序号：</b>${data.index}<br/>
                        <b>居委会：</b>${data.name}<br/>
                        <b>居委会地址：</b>${data.address}<br/>
                        <b>小区名字：</b>${data.village}<br/>
                        <b>放置位置：</b>${data.position}<br/>
                        <b>电话：</b>${data.tel}
                      `;
                }
            },
            geo: [
                {
                    map: 'cf',  // 设置地图
                    roam: true,     // 启用缩放和平移
                    layoutCenter: ['50%', '65%'], // 地图居中
                    layoutSize: '200%',
                    selectedMode: 'single',  // 单选模式
                }
            ],


            series: series

            // 制作按钮结束
        };

        // 设置图表选项
        myChart.setOption(option);
        // 获得坐标点位置，并复制到剪切板
        myChart.getZr().on('click', function (params) {
            var pixelPoint = [params.offsetX, params.offsetY];
            var dataPoint = myChart.convertFromPixel({geoIndex: 0}, pixelPoint);
            // console.log(dataPoint);
            navigator.clipboard.writeText(dataPoint).then(function () {
                console.log('Data copied to clipboard:', dataPoint);
            }).catch(function (err) {
                console.error('Failed to copy data to clipboard:', err);
            });

        });
        // 添加点击事件，跳转到指定 URL
        myChart.on('click', function (params) {
            // // console.log(params)
            // if (params.seriesName === 'A组 - 居委会') {
            //
            //     // 查找对应的居委会数据
            //     const community = data.find(item => item.name === params.data.name);
            //     const infoElement = document.getElementById('c_describe');
            //     infoElement.innerHTML = `
            //         <b>居委会名称：</b>${community.name}    <a href="community.html?name=${community.name}" target="_blank">点击这里查看更多</a><br/>
            //         <b>居委会地址：</b>${community.address}<br/>
            //         <b>居委会电话：</b>${community.phone}<br/>
            //         <div>
            //             雅仕汇都居委会成立于2020年1月，总占地面积0.15平方公里，东至中江路，西至丹巴路，南至同普路，北至金沙江路，共有四个小区组成：雅仕名邸、长风汇都、瑞仕璟庭、和畅公寓。现有居民户数2567户，实际居住人口约6100人。党员127人，长护险13人左右，独居老人2人，其中孤老0人；残疾人17人；精访在册3人。
            //             雅仕汇都居委会工作人员在日常“走四百”工作中，广泛听取社区居民建议后，收集民情民意，以“居民议事协商”为抓手，做到居民有需求，社区有回应。
            //             居委会成立至今，突出特色和实效，有序开展各类活动：关心关爱社区高龄老人、独居老人等特殊群体；积极参加“创文创卫”创建工作，组织“清洁家园”、“文明修身”、“文明礼仪”等文明树新风活动；开展平安夜巡和反诈宣传，维护社区和谐稳定。一场场丰富多彩的活动让社区“活”起来、队伍“动”起来、群众“乐”起来。
            //             和畅公寓新时代文明实践站位于丹巴路586弄和畅公寓3号楼201室。自成立以来，始终奉行“服务社区、弘扬新风”的宗旨，促进文明社区的创建，满足社区群众日益增长的文化生活需要，用微光温暖你我，用汗水守护家园。
            //             雅仕汇都居委会获得荣誉：上海市妇女之家示范点（2020年年底）、上海市儿童友好社区示范点（2021年）、上海市节水型小区、全国防灾减灾示范社区、上海市无违建居村、上海市垃圾分类银奖。
            //             近年来，雅仕汇都居民区党总支深化党建引领，与结对单位切实强化交流合作，全力构建“资源共享、优势互补、互相促进、共同发展”的党建共建联建崭新格局，定期与共建单位开展社区法律公益课堂、联合结对单位开展公益活动、慰问困难党员等。雅仕汇都居民区将以结对共建为抓手，充分挖掘和发挥各自的资源和优势，联手服务、联心发展，进一步做精做优基层治理服务，以更实举措回应居民群众美好生活新期盼。
            //             下一步，雅仕汇都居委会将继续夯实阵地建设，扎实开展多层次、多样化的活动，扩大“服务圈”，织好“贴心网”，让文明之花绽放长风，不断提升人民群众的获得感、幸福感、安全感。
            //         </div>
            //       `
            //     // const name = encodeURIComponent(params.data.name); // 获取居委会名称并进行URL编码
            //     // window.open(`community.html?name=${name}`, '_blank'); // 使用正确的 URL 参数传递
            //     const cdata = cList.find(item => item.orgName.includes(params.data.name));
            //     console.log(cdata)
            //     document.getElementById("c_info").style.display = "block"
            //     const CinfoElement = document.getElementById('c_info');
            //     CinfoElement.innerHTML =
            //         `<div><strong>人口数：</strong>${cdata.userNum}</div>
            //             <div><strong>户籍数：</strong>${cdata.localNum}</div>
            //             <div><strong>居住数：</strong>${cdata.liveNum}</div>
            //             <div><strong>楼宇数：</strong>${cdata.buildingNum}</div>
            //             <div><strong>房屋数：</strong>${cdata.houseNum}</div>
            //             <div><strong>小区数：</strong>${cdata.villageNum}</div>`
            //
            //     let male = randomInt(2, 4)
            //     let female = randomInt(4, 6)
            //     const option1 = generateAgeDistributionChartOption({
            //         male: male,
            //         female: female,
            //         step: 10 // 👈 每10岁为一个组
            //     });
            //     var myChart1 = echarts.init(document.getElementById('r1'));
            //     myChart1.setOption(option1);
            //
            //
            //     // 获取随机的社工能力数据
            //     const peopleData = generateRandomPeopleData(male + female);
            //     const option_radar = {
            //         title: {
            //             subtext: '社工能力评估雷达图',
            //             text: params.data.name,
            //             left: 'center'
            //         },
            //         legend: {
            //             bottom: "0"
            //         },
            //         tooltip: {},
            //         radar: {
            //             indicator: [
            //                 {name: '沟通能力', max: 100},
            //                 {name: '危机应对', max: 100},
            //                 {name: '组织协调', max: 100},
            //                 {name: '政策理解', max: 100},
            //                 {name: '情绪管理', max: 100},
            //                 {name: '资源链接', max: 100}
            //             ],
            //             shape: 'circle',
            //             radius: 100,
            //             splitNumber: 5,
            //             axisName: {
            //                 color: '#333',
            //                 fontSize: 14
            //             }
            //         },
            //         series: [
            //             {
            //                 name: '能力评分',
            //                 type: 'radar',
            //                 data: peopleData,
            //                 areaStyle: {
            //                     opacity: 0.1
            //                 }
            //             }
            //         ]
            //     };
            //     // 渲染图表
            //     const chart_radar = echarts.init(document.getElementById('radar'));
            //     chart_radar.setOption(option_radar);
            //
            //
            //     // calendar
            //     const pieSeries = scatterData.map(function (item, index) {
            //         let i = {
            //             type: 'pie',
            //             id: 'pie-' + index,
            //             center: item[0],
            //             radius: pieRadius,
            //             coordinateSystem: 'calendar',
            //             label: {
            //                 formatter: '{c}',
            //                 position: 'inside'
            //             },
            //             data: [
            //                 {name: '蓝色', value: Math.round(Math.random() * 5)},
            //                 {name: '绿色', value: Math.round(Math.random() * 20)},
            //                 {name: '黄色', value: Math.round(Math.random() * 20)},
            //                 {name: '红色', value: Math.round(Math.random() * 40)}
            //             ]
            //         };
            //         return i
            //     });
            //     optionC = {
            //         title: {
            //             text: "微格分色服务情况，日历视图",
            //             left: "center"
            //         },
            //         tooltip: {},
            //         legend: {
            //             data: ['蓝色', '绿色', '黄色', '红色'],
            //             top: 30
            //         },
            //         calendar: {
            //             top: '80',
            //             left: 'center',
            //             orient: 'vertical',
            //             cellSize: cellSize,
            //             yearLabel: {
            //                 show: false,
            //                 fontSize: 20
            //             },
            //             dayLabel: {
            //                 margin: 10,
            //                 firstDay: 7,
            //                 nameMap: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
            //             },
            //             monthLabel: {
            //                 show: true
            //             },
            //             range: ['2025-04']
            //         },
            //         series: [
            //             {
            //                 id: 'label',
            //                 type: 'scatter',
            //                 name: "日期",
            //                 coordinateSystem: 'calendar',
            //                 symbolSize: 0,
            //                 label: {
            //                     show: true,
            //                     formatter: function (params) {
            //                         return echarts.time.format(params.value[0], '{dd}', false);
            //                     },
            //                     offset: [-cellSize[0] / 2 + 10, -cellSize[1] / 2 + 10],
            //                     fontSize: 14
            //                 },
            //                 data: scatterData
            //             },
            //             ...pieSeries
            //         ]
            //     };
            //
            //     const chart333 = echarts.init(document.getElementById('r2'));
            //     chart333.setOption(optionC);
            //
            //
            // }
            // if (params.seriesName === 'B组') {
            //     document.getElementById("activity_list").style.display = "block"
            // }
            // if (params.seriesType === 'effectScatter') {
            //     // Redirect to the desired page
            //     window.location.href = "030HousePage.html";
            // }

        });
    }


</script>
</body>
</html>
